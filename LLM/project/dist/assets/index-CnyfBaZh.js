(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var kf={exports:{}},wo={},Ef={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),mg=Symbol.for("react.portal"),gg=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),vg=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),wg=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),Ac=Symbol.iterator;function Cg(t){return t===null||typeof t!="object"?null:(t=Ac&&t[Ac]||t["@@iterator"],typeof t=="function"?t:null)}var xf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cf=Object.assign,Pf={};function br(t,e,n){this.props=t,this.context=e,this.refs=Pf,this.updater=n||xf}br.prototype.isReactComponent={};br.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};br.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bf(){}bf.prototype=br.prototype;function nu(t,e,n){this.props=t,this.context=e,this.refs=Pf,this.updater=n||xf}var ru=nu.prototype=new bf;ru.constructor=nu;Cf(ru,br.prototype);ru.isPureReactComponent=!0;var Oc=Array.isArray,Tf=Object.prototype.hasOwnProperty,su={current:null},Rf={key:!0,ref:!0,__self:!0,__source:!0};function Af(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Tf.call(e,r)&&!Rf.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:js,type:t,key:i,ref:o,props:s,_owner:su.current}}function Pg(t,e){return{$$typeof:js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iu(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function bg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $c=/\/+/g;function na(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bg(""+t.key):e.toString(36)}function Pi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case js:case mg:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+na(o,0):r,Oc(s)?(n="",t!=null&&(n=t.replace($c,"$&/")+"/"),Pi(s,e,n,"",function(u){return u})):s!=null&&(iu(s)&&(s=Pg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($c,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Oc(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+na(i,a);o+=Pi(i,e,n,l,s)}else if(l=Cg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+na(i,a++),o+=Pi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gs(t,e,n){if(t==null)return t;var r=[],s=0;return Pi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Tg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},bi={transition:null},Rg={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:bi,ReactCurrentOwner:su};function Of(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Gs,forEach:function(t,e,n){Gs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gs(t,function(){e++}),e},toArray:function(t){return Gs(t,function(e){return e})||[]},only:function(t){if(!iu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=br;D.Fragment=gg;D.Profiler=vg;D.PureComponent=nu;D.StrictMode=yg;D.Suspense=kg;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg;D.act=Of;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cf({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=su.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Tf.call(e,l)&&!Rf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:js,type:t.type,key:s,ref:i,props:r,_owner:o}};D.createContext=function(t){return t={$$typeof:wg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_g,_context:t},t.Consumer=t};D.createElement=Af;D.createFactory=function(t){var e=Af.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Sg,render:t}};D.isValidElement=iu;D.lazy=function(t){return{$$typeof:xg,_payload:{_status:-1,_result:t},_init:Tg}};D.memo=function(t,e){return{$$typeof:Eg,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=bi.transition;bi.transition={};try{t()}finally{bi.transition=e}};D.unstable_act=Of;D.useCallback=function(t,e){return Ce.current.useCallback(t,e)};D.useContext=function(t){return Ce.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};D.useEffect=function(t,e){return Ce.current.useEffect(t,e)};D.useId=function(){return Ce.current.useId()};D.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return Ce.current.useMemo(t,e)};D.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};D.useRef=function(t){return Ce.current.useRef(t)};D.useState=function(t){return Ce.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return Ce.current.useTransition()};D.version="18.3.1";Ef.exports=D;var lt=Ef.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=lt,Og=Symbol.for("react.element"),$g=Symbol.for("react.fragment"),Ig=Object.prototype.hasOwnProperty,jg=Ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ng={key:!0,ref:!0,__self:!0,__source:!0};function $f(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ig.call(e,r)&&!Ng.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Og,type:t,key:i,ref:o,props:s,_owner:jg.current}}wo.Fragment=$g;wo.jsx=$f;wo.jsxs=$f;kf.exports=wo;var W=kf.exports,If={exports:{}},He={},jf={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,$){var L=b.length;b.push($);e:for(;0<L;){var ee=L-1>>>1,ae=b[ee];if(0<s(ae,$))b[ee]=$,b[L]=ae,L=ee;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var $=b[0],L=b.pop();if(L!==$){b[0]=L;e:for(var ee=0,ae=b.length,Qs=ae>>>1;ee<Qs;){var fn=2*(ee+1)-1,ta=b[fn],hn=fn+1,Ks=b[hn];if(0>s(ta,L))hn<ae&&0>s(Ks,ta)?(b[ee]=Ks,b[hn]=L,ee=hn):(b[ee]=ta,b[fn]=L,ee=fn);else if(hn<ae&&0>s(Ks,L))b[ee]=Ks,b[hn]=L,ee=hn;else break e}}return $}function s(b,$){var L=b.sortIndex-$.sortIndex;return L!==0?L:b.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,g=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(b){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=b)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function _(b){if(v=!1,p(b),!y)if(n(l)!==null)y=!0,Zo(S);else{var $=n(u);$!==null&&ea(_,$.startTime-b)}}function S(b,$){y=!1,v&&(v=!1,m(C),C=-1),g=!0;var L=h;try{for(p($),d=n(l);d!==null&&(!(d.expirationTime>$)||b&&!j());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var ae=ee(d.expirationTime<=$);$=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),p($)}else r(l);d=n(l)}if(d!==null)var Qs=!0;else{var fn=n(u);fn!==null&&ea(_,fn.startTime-$),Qs=!1}return Qs}finally{d=null,h=L,g=!1}}var x=!1,E=null,C=-1,O=5,T=-1;function j(){return!(t.unstable_now()-T<O)}function Je(){if(E!==null){var b=t.unstable_now();T=b;var $=!0;try{$=E(!0,b)}finally{$?Et():(x=!1,E=null)}}else x=!1}var Et;if(typeof f=="function")Et=function(){f(Je)};else if(typeof MessageChannel<"u"){var Js=new MessageChannel,qs=Js.port2;Js.port1.onmessage=Je,Et=function(){qs.postMessage(null)}}else Et=function(){w(Je,0)};function Zo(b){E=b,x||(x=!0,Et())}function ea(b,$){C=w(function(){b(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Zo(S))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var L=h;h=$;try{return b()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,$){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=h;h=b;try{return $()}finally{h=L}},t.unstable_scheduleCallback=function(b,$,L){var ee=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?ee+L:ee):L=ee,b){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=L+ae,b={id:c++,callback:$,priorityLevel:b,startTime:L,expirationTime:ae,sortIndex:-1},L>ee?(b.sortIndex=L,e(u,b),n(l)===null&&b===n(u)&&(v?(m(C),C=-1):v=!0,ea(_,L-ee))):(b.sortIndex=ae,e(l,b),y||g||(y=!0,Zo(S))),b},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(b){var $=h;return function(){var L=h;h=$;try{return b.apply(this,arguments)}finally{h=L}}}})(Nf);jf.exports=Nf;var Lg=jf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=lt,We=Lg;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lf=new Set,ps={};function $n(t,e){yr(t,e),yr(t+"Capture",e)}function yr(t,e){for(ps[t]=e,t=0;t<e.length;t++)Lf.add(e[t])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wa=Object.prototype.hasOwnProperty,Mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},jc={};function Fg(t){return Wa.call(jc,t)?!0:Wa.call(Ic,t)?!1:Mg.test(t)?jc[t]=!0:(Ic[t]=!0,!1)}function Ug(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zg(t,e,n,r){if(e===null||typeof e>"u"||Ug(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var ou=/[\-:]([a-z])/g;function au(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ou,au);ge[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ou,au);ge[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ou,au);ge[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function lu(t,e,n,r){var s=ge.hasOwnProperty(e)?ge[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zg(e,n,s,r)&&(n=null),r||s===null?Fg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lt=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),qn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),Ha=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),cu=Symbol.for("react.forward_ref"),Va=Symbol.for("react.suspense"),Ja=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),Nc=Symbol.iterator;function Nr(t){return t===null||typeof t!="object"?null:(t=Nc&&t[Nc]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,ra;function Hr(t){if(ra===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ra=e&&e[1]||""}return`
`+ra+t}var sa=!1;function ia(t,e){if(!t||sa)return"";sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hr(t):""}function Bg(t){switch(t.tag){case 5:return Hr(t.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return t=ia(t.type,!1),t;case 11:return t=ia(t.type.render,!1),t;case 1:return t=ia(t.type,!0),t;default:return""}}function qa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qn:return"Fragment";case qn:return"Portal";case Ha:return"Profiler";case uu:return"StrictMode";case Va:return"Suspense";case Ja:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mf:return(t.displayName||"Context")+".Consumer";case Df:return(t._context.displayName||"Context")+".Provider";case cu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case du:return e=t.displayName||null,e!==null?e:qa(t.type)||"Memo";case Wt:e=t._payload,t=t._init;try{return qa(t(e))}catch{}}return null}function Wg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qa(e);case 8:return e===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function on(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hg(t){var e=Uf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ys(t){t._valueTracker||(t._valueTracker=Hg(t))}function zf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qa(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=on(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bf(t,e){e=e.checked,e!=null&&lu(t,"checked",e,!1)}function Ka(t,e){Bf(t,e);var n=on(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ga(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ga(t,e.type,on(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ga(t,e,n){(e!=="number"||Hi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vr=Array.isArray;function or(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+on(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Vr(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:on(n)}}function Wf(t,e){var n=on(e.value),r=on(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zs,Vf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vg=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){Vg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function Jf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function qf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Jg=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Za(t,e){if(e){if(Jg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function el(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function fu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nl=null,ar=null,lr=null;function Uc(t){if(t=Ds(t)){if(typeof nl!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Co(e),nl(t.stateNode,t.type,e))}}function Qf(t){ar?lr?lr.push(t):lr=[t]:ar=t}function Kf(){if(ar){var t=ar,e=lr;if(lr=ar=null,Uc(t),e)for(t=0;t<e.length;t++)Uc(e[t])}}function Gf(t,e){return t(e)}function Xf(){}var oa=!1;function Yf(t,e,n){if(oa)return t(e,n);oa=!0;try{return Gf(t,e,n)}finally{oa=!1,(ar!==null||lr!==null)&&(Xf(),Kf())}}function gs(t,e){var n=t.stateNode;if(n===null)return null;var r=Co(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var rl=!1;if($t)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){rl=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{rl=!1}function qg(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ns=!1,Vi=null,Ji=!1,sl=null,Qg={onError:function(t){ns=!0,Vi=t}};function Kg(t,e,n,r,s,i,o,a,l){ns=!1,Vi=null,qg.apply(Qg,arguments)}function Gg(t,e,n,r,s,i,o,a,l){if(Kg.apply(this,arguments),ns){if(ns){var u=Vi;ns=!1,Vi=null}else throw Error(k(198));Ji||(Ji=!0,sl=u)}}function In(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zc(t){if(In(t)!==t)throw Error(k(188))}function Xg(t){var e=t.alternate;if(!e){if(e=In(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zc(s),t;if(i===r)return zc(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function eh(t){return t=Xg(t),t!==null?th(t):null}function th(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=th(t);if(e!==null)return e;t=t.sibling}return null}var nh=We.unstable_scheduleCallback,Bc=We.unstable_cancelCallback,Yg=We.unstable_shouldYield,Zg=We.unstable_requestPaint,te=We.unstable_now,ey=We.unstable_getCurrentPriorityLevel,hu=We.unstable_ImmediatePriority,rh=We.unstable_UserBlockingPriority,qi=We.unstable_NormalPriority,ty=We.unstable_LowPriority,sh=We.unstable_IdlePriority,So=null,St=null;function ny(t){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(So,t,void 0,(t.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:iy,ry=Math.log,sy=Math.LN2;function iy(t){return t>>>=0,t===0?32:31-(ry(t)/sy|0)|0}var ei=64,ti=4194304;function Jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jr(a):(i&=o,i!==0&&(r=Jr(i)))}else o=n&~s,o!==0?r=Jr(o):i!==0&&(r=Jr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ct(e),s=1<<n,r|=t[n],e&=~s;return r}function oy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ay(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ct(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=oy(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function il(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ih(){var t=ei;return ei<<=1,!(ei&4194240)&&(ei=64),t}function aa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ns(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ct(e),t[e]=n}function ly(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ct(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ct(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var z=0;function oh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ah,mu,lh,uh,ch,ol=!1,ni=[],Xt=null,Yt=null,Zt=null,ys=new Map,vs=new Map,Jt=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(t,e){switch(t){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(e.pointerId)}}function Dr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ds(e),e!==null&&mu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cy(t,e,n,r,s){switch(e){case"focusin":return Xt=Dr(Xt,t,e,n,r,s),!0;case"dragenter":return Yt=Dr(Yt,t,e,n,r,s),!0;case"mouseover":return Zt=Dr(Zt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ys.set(i,Dr(ys.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vs.set(i,Dr(vs.get(i)||null,t,e,n,r,s)),!0}return!1}function dh(t){var e=Sn(t.target);if(e!==null){var n=In(e);if(n!==null){if(e=n.tag,e===13){if(e=Zf(n),e!==null){t.blockedOn=e,ch(t.priority,function(){lh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ti(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=al(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tl=r,n.target.dispatchEvent(r),tl=null}else return e=Ds(n),e!==null&&mu(e),t.blockedOn=n,!1;e.shift()}return!0}function Hc(t,e,n){Ti(t)&&n.delete(e)}function dy(){ol=!1,Xt!==null&&Ti(Xt)&&(Xt=null),Yt!==null&&Ti(Yt)&&(Yt=null),Zt!==null&&Ti(Zt)&&(Zt=null),ys.forEach(Hc),vs.forEach(Hc)}function Mr(t,e){t.blockedOn===e&&(t.blockedOn=null,ol||(ol=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,dy)))}function _s(t){function e(s){return Mr(s,t)}if(0<ni.length){Mr(ni[0],t);for(var n=1;n<ni.length;n++){var r=ni[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xt!==null&&Mr(Xt,t),Yt!==null&&Mr(Yt,t),Zt!==null&&Mr(Zt,t),ys.forEach(e),vs.forEach(e),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)dh(n),n.blockedOn===null&&Jt.shift()}var ur=Lt.ReactCurrentBatchConfig,Ki=!0;function fy(t,e,n,r){var s=z,i=ur.transition;ur.transition=null;try{z=1,gu(t,e,n,r)}finally{z=s,ur.transition=i}}function hy(t,e,n,r){var s=z,i=ur.transition;ur.transition=null;try{z=4,gu(t,e,n,r)}finally{z=s,ur.transition=i}}function gu(t,e,n,r){if(Ki){var s=al(t,e,n,r);if(s===null)ya(t,e,r,Gi,n),Wc(t,r);else if(cy(s,t,e,n,r))r.stopPropagation();else if(Wc(t,r),e&4&&-1<uy.indexOf(t)){for(;s!==null;){var i=Ds(s);if(i!==null&&ah(i),i=al(t,e,n,r),i===null&&ya(t,e,r,Gi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ya(t,e,r,null,n)}}var Gi=null;function al(t,e,n,r){if(Gi=null,t=fu(r),t=Sn(t),t!==null)if(e=In(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gi=t,null}function fh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ey()){case hu:return 1;case rh:return 4;case qi:case ty:return 16;case sh:return 536870912;default:return 16}default:return 16}}var Kt=null,yu=null,Ri=null;function hh(){if(Ri)return Ri;var t,e=yu,n=e.length,r,s="value"in Kt?Kt.value:Kt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ri=s.slice(t,1<r?1-r:void 0)}function Ai(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Vc(){return!1}function Ve(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ri:Vc,this.isPropagationStopped=Vc,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),e}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vu=Ve(Tr),Ls=Y({},Tr,{view:0,detail:0}),py=Ve(Ls),la,ua,Fr,ko=Y({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(la=t.screenX-Fr.screenX,ua=t.screenY-Fr.screenY):ua=la=0,Fr=t),la)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Jc=Ve(ko),my=Y({},ko,{dataTransfer:0}),gy=Ve(my),yy=Y({},Ls,{relatedTarget:0}),ca=Ve(yy),vy=Y({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=Ve(vy),wy=Y({},Tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sy=Ve(wy),ky=Y({},Tr,{data:0}),qc=Ve(ky),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Cy[t])?!!e[t]:!1}function _u(){return Py}var by=Y({},Ls,{key:function(t){if(t.key){var e=Ey[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(t){return t.type==="keypress"?Ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ty=Ve(by),Ry=Y({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=Ve(Ry),Ay=Y({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Oy=Ve(Ay),$y=Y({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iy=Ve($y),jy=Y({},ko,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=Ve(jy),Ly=[9,13,27,32],wu=$t&&"CompositionEvent"in window,rs=null;$t&&"documentMode"in document&&(rs=document.documentMode);var Dy=$t&&"TextEvent"in window&&!rs,ph=$t&&(!wu||rs&&8<rs&&11>=rs),Kc=" ",Gc=!1;function mh(t,e){switch(t){case"keyup":return Ly.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kn=!1;function My(t,e){switch(t){case"compositionend":return gh(e);case"keypress":return e.which!==32?null:(Gc=!0,Kc);case"textInput":return t=e.data,t===Kc&&Gc?null:t;default:return null}}function Fy(t,e){if(Kn)return t==="compositionend"||!wu&&mh(t,e)?(t=hh(),Ri=yu=Kt=null,Kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ph&&e.locale!=="ko"?null:e.data;default:return null}}var Uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Uy[t.type]:e==="textarea"}function yh(t,e,n,r){Qf(r),e=Xi(e,"onChange"),0<e.length&&(n=new vu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ss=null,ws=null;function zy(t){Th(t,0)}function Eo(t){var e=Yn(t);if(zf(e))return t}function By(t,e){if(t==="change")return e}var vh=!1;if($t){var da;if($t){var fa="oninput"in document;if(!fa){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),fa=typeof Yc.oninput=="function"}da=fa}else da=!1;vh=da&&(!document.documentMode||9<document.documentMode)}function Zc(){ss&&(ss.detachEvent("onpropertychange",_h),ws=ss=null)}function _h(t){if(t.propertyName==="value"&&Eo(ws)){var e=[];yh(e,ws,t,fu(t)),Yf(zy,e)}}function Wy(t,e,n){t==="focusin"?(Zc(),ss=e,ws=n,ss.attachEvent("onpropertychange",_h)):t==="focusout"&&Zc()}function Hy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eo(ws)}function Vy(t,e){if(t==="click")return Eo(e)}function Jy(t,e){if(t==="input"||t==="change")return Eo(e)}function qy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ft=typeof Object.is=="function"?Object.is:qy;function Ss(t,e){if(ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wa.call(e,s)||!ft(t[s],e[s]))return!1}return!0}function ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function td(t,e){var n=ed(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ed(n)}}function wh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sh(){for(var t=window,e=Hi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hi(t.document)}return e}function Su(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qy(t){var e=Sh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wh(n.ownerDocument.documentElement,n)){if(r!==null&&Su(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=td(n,i);var o=td(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ky=$t&&"documentMode"in document&&11>=document.documentMode,Gn=null,ll=null,is=null,ul=!1;function nd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ul||Gn==null||Gn!==Hi(r)||(r=Gn,"selectionStart"in r&&Su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),is&&Ss(is,r)||(is=r,r=Xi(ll,"onSelect"),0<r.length&&(e=new vu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gn)))}function si(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xn={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},ha={},kh={};$t&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function xo(t){if(ha[t])return ha[t];if(!Xn[t])return t;var e=Xn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kh)return ha[t]=e[n];return t}var Eh=xo("animationend"),xh=xo("animationiteration"),Ch=xo("animationstart"),Ph=xo("transitionend"),bh=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(t,e){bh.set(t,e),$n(e,[t])}for(var pa=0;pa<rd.length;pa++){var ma=rd[pa],Gy=ma.toLowerCase(),Xy=ma[0].toUpperCase()+ma.slice(1);ln(Gy,"on"+Xy)}ln(Eh,"onAnimationEnd");ln(xh,"onAnimationIteration");ln(Ch,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(Ph,"onTransitionEnd");yr("onMouseEnter",["mouseout","mouseover"]);yr("onMouseLeave",["mouseout","mouseover"]);yr("onPointerEnter",["pointerout","pointerover"]);yr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function sd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Gg(r,e,void 0,t),t.currentTarget=null}function Th(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;sd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;sd(s,a,u),i=l}}}if(Ji)throw t=sl,Ji=!1,sl=null,t}function J(t,e){var n=e[pl];n===void 0&&(n=e[pl]=new Set);var r=t+"__bubble";n.has(r)||(Rh(e,t,2,!1),n.add(r))}function ga(t,e,n){var r=0;e&&(r|=4),Rh(n,t,r,e)}var ii="_reactListening"+Math.random().toString(36).slice(2);function ks(t){if(!t[ii]){t[ii]=!0,Lf.forEach(function(n){n!=="selectionchange"&&(Yy.has(n)||ga(n,!1,t),ga(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ii]||(e[ii]=!0,ga("selectionchange",!1,e))}}function Rh(t,e,n,r){switch(fh(e)){case 1:var s=fy;break;case 4:s=hy;break;default:s=gu}n=s.bind(null,e,n,t),s=void 0,!rl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ya(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Sn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Yf(function(){var u=i,c=fu(n),d=[];e:{var h=bh.get(t);if(h!==void 0){var g=vu,y=t;switch(t){case"keypress":if(Ai(n)===0)break e;case"keydown":case"keyup":g=Ty;break;case"focusin":y="focus",g=ca;break;case"focusout":y="blur",g=ca;break;case"beforeblur":case"afterblur":g=ca;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Oy;break;case Eh:case xh:case Ch:g=_y;break;case Ph:g=Iy;break;case"scroll":g=py;break;case"wheel":g=Ny;break;case"copy":case"cut":case"paste":g=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Qc}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var f=u,p;f!==null;){p=f;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,m!==null&&(_=gs(f,m),_!=null&&v.push(Es(f,_,p)))),w)break;f=f.return}0<v.length&&(h=new g(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==tl&&(y=n.relatedTarget||n.fromElement)&&(Sn(y)||y[It]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Sn(y):null,y!==null&&(w=In(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=Jc,_="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=Qc,_="onPointerLeave",m="onPointerEnter",f="pointer"),w=g==null?h:Yn(g),p=y==null?h:Yn(y),h=new v(_,f+"leave",g,n,c),h.target=w,h.relatedTarget=p,_=null,Sn(c)===u&&(v=new v(m,f+"enter",y,n,c),v.target=p,v.relatedTarget=w,_=v),w=_,g&&y)t:{for(v=g,m=y,f=0,p=v;p;p=Ln(p))f++;for(p=0,_=m;_;_=Ln(_))p++;for(;0<f-p;)v=Ln(v),f--;for(;0<p-f;)m=Ln(m),p--;for(;f--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ln(v),m=Ln(m)}v=null}else v=null;g!==null&&id(d,h,g,v,!1),y!==null&&w!==null&&id(d,w,y,v,!0)}}e:{if(h=u?Yn(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=By;else if(Xc(h))if(vh)S=Jy;else{S=Hy;var x=Wy}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Vy);if(S&&(S=S(t,u))){yh(d,S,n,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Ga(h,"number",h.value)}switch(x=u?Yn(u):window,t){case"focusin":(Xc(x)||x.contentEditable==="true")&&(Gn=x,ll=u,is=null);break;case"focusout":is=ll=Gn=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,nd(d,n,c);break;case"selectionchange":if(Ky)break;case"keydown":case"keyup":nd(d,n,c)}var E;if(wu)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Kn?mh(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ph&&n.locale!=="ko"&&(Kn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Kn&&(E=hh()):(Kt=c,yu="value"in Kt?Kt.value:Kt.textContent,Kn=!0)),x=Xi(u,C),0<x.length&&(C=new qc(C,t,null,n,c),d.push({event:C,listeners:x}),E?C.data=E:(E=gh(n),E!==null&&(C.data=E)))),(E=Dy?My(t,n):Fy(t,n))&&(u=Xi(u,"onBeforeInput"),0<u.length&&(c=new qc("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}Th(d,e)})}function Es(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gs(t,n),i!=null&&r.unshift(Es(t,i,s)),i=gs(t,e),i!=null&&r.push(Es(t,i,s))),t=t.return}return r}function Ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function id(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=gs(n,i),l!=null&&o.unshift(Es(n,l,a))):s||(l=gs(n,i),l!=null&&o.push(Es(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Zy=/\r\n?/g,ev=/\u0000|\uFFFD/g;function od(t){return(typeof t=="string"?t:""+t).replace(Zy,`
`).replace(ev,"")}function oi(t,e,n){if(e=od(e),od(t)!==e&&n)throw Error(k(425))}function Yi(){}var cl=null,dl=null;function fl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hl=typeof setTimeout=="function"?setTimeout:void 0,tv=typeof clearTimeout=="function"?clearTimeout:void 0,ad=typeof Promise=="function"?Promise:void 0,nv=typeof queueMicrotask=="function"?queueMicrotask:typeof ad<"u"?function(t){return ad.resolve(null).then(t).catch(rv)}:hl;function rv(t){setTimeout(function(){throw t})}function va(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_s(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_s(e)}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ld(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),_t="__reactFiber$"+Rr,xs="__reactProps$"+Rr,It="__reactContainer$"+Rr,pl="__reactEvents$"+Rr,sv="__reactListeners$"+Rr,iv="__reactHandles$"+Rr;function Sn(t){var e=t[_t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[It]||n[_t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ld(t);t!==null;){if(n=t[_t])return n;t=ld(t)}return e}t=n,n=t.parentNode}return null}function Ds(t){return t=t[_t]||t[It],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Co(t){return t[xs]||null}var ml=[],Zn=-1;function un(t){return{current:t}}function q(t){0>Zn||(t.current=ml[Zn],ml[Zn]=null,Zn--)}function V(t,e){Zn++,ml[Zn]=t.current,t.current=e}var an={},ke=un(an),$e=un(!1),bn=an;function vr(t,e){var n=t.type.contextTypes;if(!n)return an;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function Zi(){q($e),q(ke)}function ud(t,e,n){if(ke.current!==an)throw Error(k(168));V(ke,e),V($e,n)}function Ah(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,Wg(t)||"Unknown",s));return Y({},n,r)}function eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||an,bn=ke.current,V(ke,t),V($e,$e.current),!0}function cd(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Ah(t,e,bn),r.__reactInternalMemoizedMergedChildContext=t,q($e),q(ke),V(ke,t)):q($e),V($e,n)}var Tt=null,Po=!1,_a=!1;function Oh(t){Tt===null?Tt=[t]:Tt.push(t)}function ov(t){Po=!0,Oh(t)}function cn(){if(!_a&&Tt!==null){_a=!0;var t=0,e=z;try{var n=Tt;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tt=null,Po=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(t+1)),nh(hu,cn),s}finally{z=e,_a=!1}}return null}var er=[],tr=0,to=null,no=0,qe=[],Qe=0,Tn=null,Rt=1,At="";function gn(t,e){er[tr++]=no,er[tr++]=to,to=t,no=e}function $h(t,e,n){qe[Qe++]=Rt,qe[Qe++]=At,qe[Qe++]=Tn,Tn=t;var r=Rt;t=At;var s=32-ct(r)-1;r&=~(1<<s),n+=1;var i=32-ct(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rt=1<<32-ct(e)+s|n<<s|r,At=i+t}else Rt=1<<i|n<<s|r,At=t}function ku(t){t.return!==null&&(gn(t,1),$h(t,1,0))}function Eu(t){for(;t===to;)to=er[--tr],er[tr]=null,no=er[--tr],er[tr]=null;for(;t===Tn;)Tn=qe[--Qe],qe[Qe]=null,At=qe[--Qe],qe[Qe]=null,Rt=qe[--Qe],qe[Qe]=null}var Be=null,ze=null,Q=!1,at=null;function Ih(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Be=t,ze=en(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Be=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tn!==null?{id:Rt,overflow:At}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Be=t,ze=null,!0):!1;default:return!1}}function gl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yl(t){if(Q){var e=ze;if(e){var n=e;if(!dd(t,e)){if(gl(t))throw Error(k(418));e=en(n.nextSibling);var r=Be;e&&dd(t,e)?Ih(r,n):(t.flags=t.flags&-4097|2,Q=!1,Be=t)}}else{if(gl(t))throw Error(k(418));t.flags=t.flags&-4097|2,Q=!1,Be=t}}}function fd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Be=t}function ai(t){if(t!==Be)return!1;if(!Q)return fd(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fl(t.type,t.memoizedProps)),e&&(e=ze)){if(gl(t))throw jh(),Error(k(418));for(;e;)Ih(t,e),e=en(e.nextSibling)}if(fd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=en(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Be?en(t.stateNode.nextSibling):null;return!0}function jh(){for(var t=ze;t;)t=en(t.nextSibling)}function _r(){ze=Be=null,Q=!1}function xu(t){at===null?at=[t]:at.push(t)}var av=Lt.ReactCurrentBatchConfig;function Ur(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function li(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hd(t){var e=t._init;return e(t._payload)}function Nh(t){function e(m,f){if(t){var p=m.deletions;p===null?(m.deletions=[f],m.flags|=16):p.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=sn(m,f),m.index=0,m.sibling=null,m}function i(m,f,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<f?(m.flags|=2,f):p):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,p,_){return f===null||f.tag!==6?(f=Pa(p,m.mode,_),f.return=m,f):(f=s(f,p),f.return=m,f)}function l(m,f,p,_){var S=p.type;return S===Qn?c(m,f,p.props.children,_,p.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wt&&hd(S)===f.type)?(_=s(f,p.props),_.ref=Ur(m,f,p),_.return=m,_):(_=Di(p.type,p.key,p.props,null,m.mode,_),_.ref=Ur(m,f,p),_.return=m,_)}function u(m,f,p,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=ba(p,m.mode,_),f.return=m,f):(f=s(f,p.children||[]),f.return=m,f)}function c(m,f,p,_,S){return f===null||f.tag!==7?(f=Pn(p,m.mode,_,S),f.return=m,f):(f=s(f,p),f.return=m,f)}function d(m,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Pa(""+f,m.mode,p),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xs:return p=Di(f.type,f.key,f.props,null,m.mode,p),p.ref=Ur(m,null,f),p.return=m,p;case qn:return f=ba(f,m.mode,p),f.return=m,f;case Wt:var _=f._init;return d(m,_(f._payload),p)}if(Vr(f)||Nr(f))return f=Pn(f,m.mode,p,null),f.return=m,f;li(m,f)}return null}function h(m,f,p,_){var S=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:a(m,f,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xs:return p.key===S?l(m,f,p,_):null;case qn:return p.key===S?u(m,f,p,_):null;case Wt:return S=p._init,h(m,f,S(p._payload),_)}if(Vr(p)||Nr(p))return S!==null?null:c(m,f,p,_,null);li(m,p)}return null}function g(m,f,p,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(p)||null,a(f,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xs:return m=m.get(_.key===null?p:_.key)||null,l(f,m,_,S);case qn:return m=m.get(_.key===null?p:_.key)||null,u(f,m,_,S);case Wt:var x=_._init;return g(m,f,p,x(_._payload),S)}if(Vr(_)||Nr(_))return m=m.get(p)||null,c(f,m,_,S,null);li(f,_)}return null}function y(m,f,p,_){for(var S=null,x=null,E=f,C=f=0,O=null;E!==null&&C<p.length;C++){E.index>C?(O=E,E=null):O=E.sibling;var T=h(m,E,p[C],_);if(T===null){E===null&&(E=O);break}t&&E&&T.alternate===null&&e(m,E),f=i(T,f,C),x===null?S=T:x.sibling=T,x=T,E=O}if(C===p.length)return n(m,E),Q&&gn(m,C),S;if(E===null){for(;C<p.length;C++)E=d(m,p[C],_),E!==null&&(f=i(E,f,C),x===null?S=E:x.sibling=E,x=E);return Q&&gn(m,C),S}for(E=r(m,E);C<p.length;C++)O=g(E,m,C,p[C],_),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?C:O.key),f=i(O,f,C),x===null?S=O:x.sibling=O,x=O);return t&&E.forEach(function(j){return e(m,j)}),Q&&gn(m,C),S}function v(m,f,p,_){var S=Nr(p);if(typeof S!="function")throw Error(k(150));if(p=S.call(p),p==null)throw Error(k(151));for(var x=S=null,E=f,C=f=0,O=null,T=p.next();E!==null&&!T.done;C++,T=p.next()){E.index>C?(O=E,E=null):O=E.sibling;var j=h(m,E,T.value,_);if(j===null){E===null&&(E=O);break}t&&E&&j.alternate===null&&e(m,E),f=i(j,f,C),x===null?S=j:x.sibling=j,x=j,E=O}if(T.done)return n(m,E),Q&&gn(m,C),S;if(E===null){for(;!T.done;C++,T=p.next())T=d(m,T.value,_),T!==null&&(f=i(T,f,C),x===null?S=T:x.sibling=T,x=T);return Q&&gn(m,C),S}for(E=r(m,E);!T.done;C++,T=p.next())T=g(E,m,C,T.value,_),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?C:T.key),f=i(T,f,C),x===null?S=T:x.sibling=T,x=T);return t&&E.forEach(function(Je){return e(m,Je)}),Q&&gn(m,C),S}function w(m,f,p,_){if(typeof p=="object"&&p!==null&&p.type===Qn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Xs:e:{for(var S=p.key,x=f;x!==null;){if(x.key===S){if(S=p.type,S===Qn){if(x.tag===7){n(m,x.sibling),f=s(x,p.props.children),f.return=m,m=f;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wt&&hd(S)===x.type){n(m,x.sibling),f=s(x,p.props),f.ref=Ur(m,x,p),f.return=m,m=f;break e}n(m,x);break}else e(m,x);x=x.sibling}p.type===Qn?(f=Pn(p.props.children,m.mode,_,p.key),f.return=m,m=f):(_=Di(p.type,p.key,p.props,null,m.mode,_),_.ref=Ur(m,f,p),_.return=m,m=_)}return o(m);case qn:e:{for(x=p.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(m,f.sibling),f=s(f,p.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=ba(p,m.mode,_),f.return=m,m=f}return o(m);case Wt:return x=p._init,w(m,f,x(p._payload),_)}if(Vr(p))return y(m,f,p,_);if(Nr(p))return v(m,f,p,_);li(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,p),f.return=m,m=f):(n(m,f),f=Pa(p,m.mode,_),f.return=m,m=f),o(m)):n(m,f)}return w}var wr=Nh(!0),Lh=Nh(!1),ro=un(null),so=null,nr=null,Cu=null;function Pu(){Cu=nr=so=null}function bu(t){var e=ro.current;q(ro),t._currentValue=e}function vl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cr(t,e){so=t,Cu=nr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function Ze(t){var e=t._currentValue;if(Cu!==t)if(t={context:t,memoizedValue:e,next:null},nr===null){if(so===null)throw Error(k(308));nr=t,so.dependencies={lanes:0,firstContext:t}}else nr=nr.next=t;return e}var kn=null;function Tu(t){kn===null?kn=[t]:kn.push(t)}function Dh(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tu(e)):(n.next=s.next,s.next=n),e.interleaved=n,jt(t,r)}function jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ht=!1;function Ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ot(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jt(t,n)}return s=r.interleaved,s===null?(e.next=e,Tu(r)):(e.next=s.next,s.next=e),r.interleaved=e,jt(t,n)}function Oi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pu(t,n)}}function pd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function io(t,e,n,r){var s=t.updateQueue;Ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(g,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,d,h):y,h==null)break e;d=Y({},d,h);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);An|=o,t.lanes=o,t.memoizedState=d}}function md(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var Ms={},kt=un(Ms),Cs=un(Ms),Ps=un(Ms);function En(t){if(t===Ms)throw Error(k(174));return t}function Au(t,e){switch(V(Ps,e),V(Cs,t),V(kt,Ms),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ya(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ya(e,t)}q(kt),V(kt,e)}function Sr(){q(kt),q(Cs),q(Ps)}function Fh(t){En(Ps.current);var e=En(kt.current),n=Ya(e,t.type);e!==n&&(V(Cs,t),V(kt,n))}function Ou(t){Cs.current===t&&(q(kt),q(Cs))}var G=un(0);function oo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wa=[];function $u(){for(var t=0;t<wa.length;t++)wa[t]._workInProgressVersionPrimary=null;wa.length=0}var $i=Lt.ReactCurrentDispatcher,Sa=Lt.ReactCurrentBatchConfig,Rn=0,X=null,ie=null,ce=null,ao=!1,os=!1,bs=0,lv=0;function ve(){throw Error(k(321))}function Iu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ft(t[n],e[n]))return!1;return!0}function ju(t,e,n,r,s,i){if(Rn=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$i.current=t===null||t.memoizedState===null?fv:hv,t=n(r,s),os){i=0;do{if(os=!1,bs=0,25<=i)throw Error(k(301));i+=1,ce=ie=null,e.updateQueue=null,$i.current=pv,t=n(r,s)}while(os)}if($i.current=lo,e=ie!==null&&ie.next!==null,Rn=0,ce=ie=X=null,ao=!1,e)throw Error(k(300));return t}function Nu(){var t=bs!==0;return bs=0,t}function gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?X.memoizedState=ce=t:ce=ce.next=t,ce}function et(){if(ie===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=ce===null?X.memoizedState:ce.next;if(e!==null)ce=e,ie=t;else{if(t===null)throw Error(k(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ce===null?X.memoizedState=ce=t:ce=ce.next=t}return ce}function Ts(t,e){return typeof e=="function"?e(t):e}function ka(t){var e=et(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Rn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,X.lanes|=c,An|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ft(r,e.memoizedState)||(Oe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,An|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ea(t){var e=et(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ft(i,e.memoizedState)||(Oe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Uh(){}function zh(t,e){var n=X,r=et(),s=e(),i=!ft(r.memoizedState,s);if(i&&(r.memoizedState=s,Oe=!0),r=r.queue,Lu(Hh.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Rs(9,Wh.bind(null,n,r,s,e),void 0,null),de===null)throw Error(k(349));Rn&30||Bh(n,e,s)}return s}function Bh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wh(t,e,n,r){e.value=n,e.getSnapshot=r,Vh(e)&&Jh(t)}function Hh(t,e,n){return n(function(){Vh(e)&&Jh(t)})}function Vh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ft(t,n)}catch{return!0}}function Jh(t){var e=jt(t,1);e!==null&&dt(e,t,1,-1)}function gd(t){var e=gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=dv.bind(null,X,t),[e.memoizedState,t]}function Rs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qh(){return et().memoizedState}function Ii(t,e,n,r){var s=gt();X.flags|=t,s.memoizedState=Rs(1|e,n,void 0,r===void 0?null:r)}function bo(t,e,n,r){var s=et();r=r===void 0?null:r;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,r!==null&&Iu(r,o.deps)){s.memoizedState=Rs(e,n,i,r);return}}X.flags|=t,s.memoizedState=Rs(1|e,n,i,r)}function yd(t,e){return Ii(8390656,8,t,e)}function Lu(t,e){return bo(2048,8,t,e)}function Qh(t,e){return bo(4,2,t,e)}function Kh(t,e){return bo(4,4,t,e)}function Gh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xh(t,e,n){return n=n!=null?n.concat([t]):null,bo(4,4,Gh.bind(null,e,t),n)}function Du(){}function Yh(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zh(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ep(t,e,n){return Rn&21?(ft(n,e)||(n=ih(),X.lanes|=n,An|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=n)}function uv(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=Sa.transition;Sa.transition={};try{t(!1),e()}finally{z=n,Sa.transition=r}}function tp(){return et().memoizedState}function cv(t,e,n){var r=rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},np(t))rp(e,n);else if(n=Dh(t,e,n,r),n!==null){var s=xe();dt(n,t,r,s),sp(n,e,r)}}function dv(t,e,n){var r=rn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(np(t))rp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ft(a,o)){var l=e.interleaved;l===null?(s.next=s,Tu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Dh(t,e,s,r),n!==null&&(s=xe(),dt(n,t,r,s),sp(n,e,r))}}function np(t){var e=t.alternate;return t===X||e!==null&&e===X}function rp(t,e){os=ao=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pu(t,n)}}var lo={readContext:Ze,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},fv={readContext:Ze,useCallback:function(t,e){return gt().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:yd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ii(4194308,4,Gh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ii(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ii(4,2,t,e)},useMemo:function(t,e){var n=gt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cv.bind(null,X,t),[r.memoizedState,t]},useRef:function(t){var e=gt();return t={current:t},e.memoizedState=t},useState:gd,useDebugValue:Du,useDeferredValue:function(t){return gt().memoizedState=t},useTransition:function(){var t=gd(!1),e=t[0];return t=uv.bind(null,t[1]),gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=X,s=gt();if(Q){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),de===null)throw Error(k(349));Rn&30||Bh(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,yd(Hh.bind(null,r,i,t),[t]),r.flags|=2048,Rs(9,Wh.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gt(),e=de.identifierPrefix;if(Q){var n=At,r=Rt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hv={readContext:Ze,useCallback:Yh,useContext:Ze,useEffect:Lu,useImperativeHandle:Xh,useInsertionEffect:Qh,useLayoutEffect:Kh,useMemo:Zh,useReducer:ka,useRef:qh,useState:function(){return ka(Ts)},useDebugValue:Du,useDeferredValue:function(t){var e=et();return ep(e,ie.memoizedState,t)},useTransition:function(){var t=ka(Ts)[0],e=et().memoizedState;return[t,e]},useMutableSource:Uh,useSyncExternalStore:zh,useId:tp,unstable_isNewReconciler:!1},pv={readContext:Ze,useCallback:Yh,useContext:Ze,useEffect:Lu,useImperativeHandle:Xh,useInsertionEffect:Qh,useLayoutEffect:Kh,useMemo:Zh,useReducer:Ea,useRef:qh,useState:function(){return Ea(Ts)},useDebugValue:Du,useDeferredValue:function(t){var e=et();return ie===null?e.memoizedState=t:ep(e,ie.memoizedState,t)},useTransition:function(){var t=Ea(Ts)[0],e=et().memoizedState;return[t,e]},useMutableSource:Uh,useSyncExternalStore:zh,useId:tp,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _l(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var To={isMounted:function(t){return(t=t._reactInternals)?In(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xe(),s=rn(t),i=Ot(r,s);i.payload=e,n!=null&&(i.callback=n),e=tn(t,i,s),e!==null&&(dt(e,t,s,r),Oi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xe(),s=rn(t),i=Ot(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=tn(t,i,s),e!==null&&(dt(e,t,s,r),Oi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xe(),r=rn(t),s=Ot(n,r);s.tag=2,e!=null&&(s.callback=e),e=tn(t,s,r),e!==null&&(dt(e,t,r,n),Oi(e,t,r))}};function vd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ss(n,r)||!Ss(s,i):!0}function ip(t,e,n){var r=!1,s=an,i=e.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(s=Ie(e)?bn:ke.current,r=e.contextTypes,i=(r=r!=null)?vr(t,s):an),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=To,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function _d(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&To.enqueueReplaceState(e,e.state,null)}function wl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ru(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ze(i):(i=Ie(e)?bn:ke.current,s.context=vr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_l(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&To.enqueueReplaceState(s,s.state,null),io(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kr(t,e){try{var n="",r=e;do n+=Bg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mv=typeof WeakMap=="function"?WeakMap:Map;function op(t,e,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){co||(co=!0,Ol=r),Sl(t,e)},n}function ap(t,e,n){n=Ot(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sl(t,e),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Rv.bind(null,t,e,n),e.then(t,t))}function Sd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ot(-1,1),e.tag=2,tn(n,e,1))),n.lanes|=1),t)}var gv=Lt.ReactCurrentOwner,Oe=!1;function Ee(t,e,n,r){e.child=t===null?Lh(e,null,n,r):wr(e,t.child,n,r)}function Ed(t,e,n,r,s){n=n.render;var i=e.ref;return cr(e,s),r=ju(t,e,n,r,i,s),n=Nu(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(Q&&n&&ku(e),e.flags|=1,Ee(t,e,r,s),e.child)}function xd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Vu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lp(t,e,i,r,s)):(t=Di(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ss,n(o,r)&&t.ref===e.ref)return Nt(t,e,s)}return e.flags|=1,t=sn(i,r),t.ref=e.ref,t.return=e,e.child=t}function lp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ss(i,r)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Nt(t,e,s)}return kl(t,e,n,r,s)}function up(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(sr,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(sr,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(sr,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,V(sr,Ue),Ue|=r;return Ee(t,e,s,n),e.child}function cp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kl(t,e,n,r,s){var i=Ie(n)?bn:ke.current;return i=vr(e,i),cr(e,s),n=ju(t,e,n,r,i,s),r=Nu(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(Q&&r&&ku(e),e.flags|=1,Ee(t,e,n,s),e.child)}function Cd(t,e,n,r,s){if(Ie(n)){var i=!0;eo(e)}else i=!1;if(cr(e,s),e.stateNode===null)ji(t,e),ip(e,n,r),wl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ze(u):(u=Ie(n)?bn:ke.current,u=vr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_d(e,o,r,u),Ht=!1;var h=e.memoizedState;o.state=h,io(e,r,o,s),l=e.memoizedState,a!==r||h!==l||$e.current||Ht?(typeof c=="function"&&(_l(e,n,c,r),l=e.memoizedState),(a=Ht||vd(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:rt(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ze(l):(l=Ie(n)?bn:ke.current,l=vr(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&_d(e,o,r,l),Ht=!1,h=e.memoizedState,o.state=h,io(e,r,o,s);var y=e.memoizedState;a!==d||h!==y||$e.current||Ht?(typeof g=="function"&&(_l(e,n,g,r),y=e.memoizedState),(u=Ht||vd(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return El(t,e,n,r,i,s)}function El(t,e,n,r,s,i){cp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&cd(e,n,!1),Nt(t,e,i);r=e.stateNode,gv.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wr(e,t.child,null,i),e.child=wr(e,null,a,i)):Ee(t,e,a,i),e.memoizedState=r.state,s&&cd(e,n,!0),e.child}function dp(t){var e=t.stateNode;e.pendingContext?ud(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ud(t,e.context,!1),Au(t,e.containerInfo)}function Pd(t,e,n,r,s){return _r(),xu(s),e.flags|=256,Ee(t,e,n,r),e.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function Cl(t){return{baseLanes:t,cachePool:null,transitions:null}}function fp(t,e,n){var r=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(G,s&1),t===null)return yl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oo(o,r,0,null),t=Pn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cl(n),e.memoizedState=xl,t):Mu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yv(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=sn(a,i):(i=Pn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xl,r}return i=t.child,t=i.sibling,r=sn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mu(t,e){return e=Oo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ui(t,e,n,r){return r!==null&&xu(r),wr(e,t.child,null,n),t=Mu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yv(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=xa(Error(k(422))),ui(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Oo({mode:"visible",children:r.children},s,0,null),i=Pn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wr(e,t.child,null,o),e.child.memoizedState=Cl(o),e.memoizedState=xl,i);if(!(e.mode&1))return ui(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(k(419)),r=xa(i,r,void 0),ui(t,e,o,r)}if(a=(o&t.childLanes)!==0,Oe||a){if(r=de,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(t,s),dt(r,t,s,-1))}return Hu(),r=xa(Error(k(421))),ui(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Av.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ze=en(s.nextSibling),Be=e,Q=!0,at=null,t!==null&&(qe[Qe++]=Rt,qe[Qe++]=At,qe[Qe++]=Tn,Rt=t.id,At=t.overflow,Tn=e),e=Mu(e,r.children),e.flags|=4096,e)}function bd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vl(t.return,e,n)}function Ca(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ee(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bd(t,n,e);else if(t.tag===19)bd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(G,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&oo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ca(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ca(e,!0,n,null,i);break;case"together":Ca(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ji(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),An|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vv(t,e,n){switch(e.tag){case 3:dp(e),_r();break;case 5:Fh(e);break;case 1:Ie(e.type)&&eo(e);break;case 4:Au(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;V(ro,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?fp(t,e,n):(V(G,G.current&1),t=Nt(t,e,n),t!==null?t.sibling:null);V(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,up(t,e,n)}return Nt(t,e,n)}var pp,Pl,mp,gp;pp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pl=function(){};mp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,En(kt.current);var i=null;switch(n){case"input":s=Qa(t,s),r=Qa(t,r),i=[];break;case"select":s=Y({},s,{value:void 0}),r=Y({},r,{value:void 0}),i=[];break;case"textarea":s=Xa(t,s),r=Xa(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yi)}Za(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ps.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ps.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};gp=function(t,e,n,r){n!==r&&(e.flags|=4)};function zr(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _v(t,e,n){var r=e.pendingProps;switch(Eu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return Ie(e.type)&&Zi(),_e(e),null;case 3:return r=e.stateNode,Sr(),q($e),q(ke),$u(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ai(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,at!==null&&(jl(at),at=null))),Pl(t,e),_e(e),null;case 5:Ou(e);var s=En(Ps.current);if(n=e.type,t!==null&&e.stateNode!=null)mp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return _e(e),null}if(t=En(kt.current),ai(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_t]=e,r[xs]=i,t=(e.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<qr.length;s++)J(qr[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Lc(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":Mc(r,i),J("invalid",r)}Za(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&oi(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&oi(r.textContent,a,t),s=["children",""+a]):ps.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Ys(r),Dc(r,i,!0);break;case"textarea":Ys(r),Fc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_t]=e,t[xs]=r,pp(t,e,!1,!1),e.stateNode=t;e:{switch(o=el(n,r),n){case"dialog":J("cancel",t),J("close",t),s=r;break;case"iframe":case"object":case"embed":J("load",t),s=r;break;case"video":case"audio":for(s=0;s<qr.length;s++)J(qr[s],t);s=r;break;case"source":J("error",t),s=r;break;case"img":case"image":case"link":J("error",t),J("load",t),s=r;break;case"details":J("toggle",t),s=r;break;case"input":Lc(t,r),s=Qa(t,r),J("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Y({},r,{value:void 0}),J("invalid",t);break;case"textarea":Mc(t,r),s=Xa(t,r),J("invalid",t);break;default:s=r}Za(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?qf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ms(t,l):typeof l=="number"&&ms(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ps.hasOwnProperty(i)?l!=null&&i==="onScroll"&&J("scroll",t):l!=null&&lu(t,i,l,o))}switch(n){case"input":Ys(t),Dc(t,r,!1);break;case"textarea":Ys(t),Fc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+on(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?or(t,!!r.multiple,i,!1):r.defaultValue!=null&&or(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)gp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=En(Ps.current),En(kt.current),ai(e)){if(r=e.stateNode,n=e.memoizedProps,r[_t]=e,(i=r.nodeValue!==n)&&(t=Be,t!==null))switch(t.tag){case 3:oi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=e,e.stateNode=r}return _e(e),null;case 13:if(q(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&ze!==null&&e.mode&1&&!(e.flags&128))jh(),_r(),e.flags|=98560,i=!1;else if(i=ai(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[_t]=e}else _r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else at!==null&&(jl(at),at=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?oe===0&&(oe=3):Hu())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return Sr(),Pl(t,e),t===null&&ks(e.stateNode.containerInfo),_e(e),null;case 10:return bu(e.type._context),_e(e),null;case 17:return Ie(e.type)&&Zi(),_e(e),null;case 19:if(q(G),i=e.memoizedState,i===null)return _e(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zr(i,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oo(t),o!==null){for(e.flags|=128,zr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&te()>Er&&(e.flags|=128,r=!0,zr(i,!1),e.lanes=4194304)}else{if(!r)if(t=oo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return _e(e),null}else 2*te()-i.renderingStartTime>Er&&n!==1073741824&&(e.flags|=128,r=!0,zr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=te(),e.sibling=null,n=G.current,V(G,r?n&1|2:n&1),e):(_e(e),null);case 22:case 23:return Wu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function wv(t,e){switch(Eu(e),e.tag){case 1:return Ie(e.type)&&Zi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sr(),q($e),q(ke),$u(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ou(e),null;case 13:if(q(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));_r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(G),null;case 4:return Sr(),null;case 10:return bu(e.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var ci=!1,Se=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,P=null;function rr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(t,e,r)}else n.current=null}function bl(t,e,n){try{n()}catch(r){Z(t,e,r)}}var Td=!1;function kv(t,e){if(cl=Ki,t=Sh(),Su(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dl={focusedElem:t,selectionRange:n},Ki=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:rt(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){Z(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=Td,Td=!1,y}function as(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bl(e,n,i)}s=s.next}while(s!==r)}}function Ro(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yp(t){var e=t.alternate;e!==null&&(t.alternate=null,yp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_t],delete e[xs],delete e[pl],delete e[sv],delete e[iv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vp(t){return t.tag===5||t.tag===3||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yi));else if(r!==4&&(t=t.child,t!==null))for(Rl(t,e,n),t=t.sibling;t!==null;)Rl(t,e,n),t=t.sibling}function Al(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Al(t,e,n),t=t.sibling;t!==null;)Al(t,e,n),t=t.sibling}var he=null,it=!1;function Dt(t,e,n){for(n=n.child;n!==null;)_p(t,e,n),n=n.sibling}function _p(t,e,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(So,n)}catch{}switch(n.tag){case 5:Se||rr(n,e);case 6:var r=he,s=it;he=null,Dt(t,e,n),he=r,it=s,he!==null&&(it?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(it?(t=he,n=n.stateNode,t.nodeType===8?va(t.parentNode,n):t.nodeType===1&&va(t,n),_s(t)):va(he,n.stateNode));break;case 4:r=he,s=it,he=n.stateNode.containerInfo,it=!0,Dt(t,e,n),he=r,it=s;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bl(n,e,o),s=s.next}while(s!==r)}Dt(t,e,n);break;case 1:if(!Se&&(rr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Z(n,e,a)}Dt(t,e,n);break;case 21:Dt(t,e,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,Dt(t,e,n),Se=r):Dt(t,e,n);break;default:Dt(t,e,n)}}function Ad(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sv),e.forEach(function(r){var s=Ov.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,it=!1;break e;case 3:he=a.stateNode.containerInfo,it=!0;break e;case 4:he=a.stateNode.containerInfo,it=!0;break e}a=a.return}if(he===null)throw Error(k(160));_p(i,o,s),he=null,it=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Z(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wp(e,t),e=e.sibling}function wp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tt(e,t),ht(t),r&4){try{as(3,t,t.return),Ro(3,t)}catch(v){Z(t,t.return,v)}try{as(5,t,t.return)}catch(v){Z(t,t.return,v)}}break;case 1:tt(e,t),ht(t),r&512&&n!==null&&rr(n,n.return);break;case 5:if(tt(e,t),ht(t),r&512&&n!==null&&rr(n,n.return),t.flags&32){var s=t.stateNode;try{ms(s,"")}catch(v){Z(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bf(s,i),el(a,o);var u=el(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?qf(s,d):c==="dangerouslySetInnerHTML"?Vf(s,d):c==="children"?ms(s,d):lu(s,c,d,u)}switch(a){case"input":Ka(s,i);break;case"textarea":Wf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?or(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?or(s,!!i.multiple,i.defaultValue,!0):or(s,!!i.multiple,i.multiple?[]:"",!1))}s[xs]=i}catch(v){Z(t,t.return,v)}}break;case 6:if(tt(e,t),ht(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Z(t,t.return,v)}}break;case 3:if(tt(e,t),ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_s(e.containerInfo)}catch(v){Z(t,t.return,v)}break;case 4:tt(e,t),ht(t);break;case 13:tt(e,t),ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zu=te())),r&4&&Ad(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Se=(u=Se)||c,tt(e,t),Se=u):tt(e,t),ht(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(P=t,c=t.child;c!==null;){for(d=P=c;P!==null;){switch(h=P,g=h.child,h.tag){case 0:case 11:case 14:case 15:as(4,h,h.return);break;case 1:rr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Z(r,n,v)}}break;case 5:rr(h,h.return);break;case 22:if(h.memoizedState!==null){$d(d);continue}}g!==null?(g.return=h,P=g):$d(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jf("display",o))}catch(v){Z(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Z(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tt(e,t),ht(t),r&4&&Ad(t);break;case 21:break;default:tt(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vp(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ms(s,""),r.flags&=-33);var i=Rd(t);Al(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rd(t);Rl(t,a,o);break;default:throw Error(k(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ev(t,e,n){P=t,Sp(t)}function Sp(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ci;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Se;a=ci;var u=Se;if(ci=o,(Se=l)&&!u)for(P=s;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?Id(s):l!==null?(l.return=o,P=l):Id(s);for(;i!==null;)P=i,Sp(i),i=i.sibling;P=s,ci=a,Se=u}Od(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Od(t)}}function Od(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Ro(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Se)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&md(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}md(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&_s(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Se||e.flags&512&&Tl(e)}catch(h){Z(e,e.return,h)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function $d(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Id(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ro(4,e)}catch(l){Z(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Z(e,s,l)}}var i=e.return;try{Tl(e)}catch(l){Z(e,i,l)}break;case 5:var o=e.return;try{Tl(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var xv=Math.ceil,uo=Lt.ReactCurrentDispatcher,Fu=Lt.ReactCurrentOwner,Xe=Lt.ReactCurrentBatchConfig,U=0,de=null,ne=null,me=0,Ue=0,sr=un(0),oe=0,As=null,An=0,Ao=0,Uu=0,ls=null,Re=null,zu=0,Er=1/0,Pt=null,co=!1,Ol=null,nn=null,di=!1,Gt=null,fo=0,us=0,$l=null,Ni=-1,Li=0;function xe(){return U&6?te():Ni!==-1?Ni:Ni=te()}function rn(t){return t.mode&1?U&2&&me!==0?me&-me:av.transition!==null?(Li===0&&(Li=ih()),Li):(t=z,t!==0||(t=window.event,t=t===void 0?16:fh(t.type)),t):1}function dt(t,e,n,r){if(50<us)throw us=0,$l=null,Error(k(185));Ns(t,n,r),(!(U&2)||t!==de)&&(t===de&&(!(U&2)&&(Ao|=n),oe===4&&qt(t,me)),je(t,r),n===1&&U===0&&!(e.mode&1)&&(Er=te()+500,Po&&cn()))}function je(t,e){var n=t.callbackNode;ay(t,e);var r=Qi(t,t===de?me:0);if(r===0)n!==null&&Bc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bc(n),e===1)t.tag===0?ov(jd.bind(null,t)):Oh(jd.bind(null,t)),nv(function(){!(U&6)&&cn()}),n=null;else{switch(oh(r)){case 1:n=hu;break;case 4:n=rh;break;case 16:n=qi;break;case 536870912:n=sh;break;default:n=qi}n=Rp(n,kp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kp(t,e){if(Ni=-1,Li=0,U&6)throw Error(k(327));var n=t.callbackNode;if(dr()&&t.callbackNode!==n)return null;var r=Qi(t,t===de?me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ho(t,r);else{e=r;var s=U;U|=2;var i=xp();(de!==t||me!==e)&&(Pt=null,Er=te()+500,Cn(t,e));do try{bv();break}catch(a){Ep(t,a)}while(!0);Pu(),uo.current=i,U=s,ne!==null?e=0:(de=null,me=0,e=oe)}if(e!==0){if(e===2&&(s=il(t),s!==0&&(r=s,e=Il(t,s))),e===1)throw n=As,Cn(t,0),qt(t,r),je(t,te()),n;if(e===6)qt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Cv(s)&&(e=ho(t,r),e===2&&(i=il(t),i!==0&&(r=i,e=Il(t,i))),e===1))throw n=As,Cn(t,0),qt(t,r),je(t,te()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:yn(t,Re,Pt);break;case 3:if(qt(t,r),(r&130023424)===r&&(e=zu+500-te(),10<e)){if(Qi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hl(yn.bind(null,t,Re,Pt),e);break}yn(t,Re,Pt);break;case 4:if(qt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ct(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xv(r/1960))-r,10<r){t.timeoutHandle=hl(yn.bind(null,t,Re,Pt),r);break}yn(t,Re,Pt);break;case 5:yn(t,Re,Pt);break;default:throw Error(k(329))}}}return je(t,te()),t.callbackNode===n?kp.bind(null,t):null}function Il(t,e){var n=ls;return t.current.memoizedState.isDehydrated&&(Cn(t,e).flags|=256),t=ho(t,e),t!==2&&(e=Re,Re=n,e!==null&&jl(e)),t}function jl(t){Re===null?Re=t:Re.push.apply(Re,t)}function Cv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ft(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qt(t,e){for(e&=~Uu,e&=~Ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ct(e),r=1<<n;t[n]=-1,e&=~r}}function jd(t){if(U&6)throw Error(k(327));dr();var e=Qi(t,0);if(!(e&1))return je(t,te()),null;var n=ho(t,e);if(t.tag!==0&&n===2){var r=il(t);r!==0&&(e=r,n=Il(t,r))}if(n===1)throw n=As,Cn(t,0),qt(t,e),je(t,te()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yn(t,Re,Pt),je(t,te()),null}function Bu(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(Er=te()+500,Po&&cn())}}function On(t){Gt!==null&&Gt.tag===0&&!(U&6)&&dr();var e=U;U|=1;var n=Xe.transition,r=z;try{if(Xe.transition=null,z=1,t)return t()}finally{z=r,Xe.transition=n,U=e,!(U&6)&&cn()}}function Wu(){Ue=sr.current,q(sr)}function Cn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tv(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(Eu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zi();break;case 3:Sr(),q($e),q(ke),$u();break;case 5:Ou(r);break;case 4:Sr();break;case 13:q(G);break;case 19:q(G);break;case 10:bu(r.type._context);break;case 22:case 23:Wu()}n=n.return}if(de=t,ne=t=sn(t.current,null),me=Ue=e,oe=0,As=null,Uu=Ao=An=0,Re=ls=null,kn!==null){for(e=0;e<kn.length;e++)if(n=kn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}kn=null}return t}function Ep(t,e){do{var n=ne;try{if(Pu(),$i.current=lo,ao){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ao=!1}if(Rn=0,ce=ie=X=null,os=!1,bs=0,Fu.current=null,n===null||n.return===null){oe=1,As=e,ne=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=me,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Sd(o);if(g!==null){g.flags&=-257,kd(g,o,a,i,e),g.mode&1&&wd(i,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){wd(i,u,e),Hu();break e}l=Error(k(426))}}else if(Q&&a.mode&1){var w=Sd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),kd(w,o,a,i,e),xu(kr(l,a));break e}}i=l=kr(l,a),oe!==4&&(oe=2),ls===null?ls=[i]:ls.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=op(i,l,e);pd(i,m);break e;case 1:a=l;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nn===null||!nn.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=ap(i,a,e);pd(i,_);break e}}i=i.return}while(i!==null)}Pp(n)}catch(S){e=S,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(!0)}function xp(){var t=uo.current;return uo.current=lo,t===null?lo:t}function Hu(){(oe===0||oe===3||oe===2)&&(oe=4),de===null||!(An&268435455)&&!(Ao&268435455)||qt(de,me)}function ho(t,e){var n=U;U|=2;var r=xp();(de!==t||me!==e)&&(Pt=null,Cn(t,e));do try{Pv();break}catch(s){Ep(t,s)}while(!0);if(Pu(),U=n,uo.current=r,ne!==null)throw Error(k(261));return de=null,me=0,oe}function Pv(){for(;ne!==null;)Cp(ne)}function bv(){for(;ne!==null&&!Yg();)Cp(ne)}function Cp(t){var e=Tp(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Pp(t):ne=e,Fu.current=null}function Pp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wv(n,e),n!==null){n.flags&=32767,ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,ne=null;return}}else if(n=_v(n,e,Ue),n!==null){ne=n;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);oe===0&&(oe=5)}function yn(t,e,n){var r=z,s=Xe.transition;try{Xe.transition=null,z=1,Tv(t,e,n,r)}finally{Xe.transition=s,z=r}return null}function Tv(t,e,n,r){do dr();while(Gt!==null);if(U&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ly(t,i),t===de&&(ne=de=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||di||(di=!0,Rp(qi,function(){return dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var o=z;z=1;var a=U;U|=4,Fu.current=null,kv(t,n),wp(n,t),Qy(dl),Ki=!!cl,dl=cl=null,t.current=n,Ev(n),Zg(),U=a,z=o,Xe.transition=i}else t.current=n;if(di&&(di=!1,Gt=t,fo=s),i=t.pendingLanes,i===0&&(nn=null),ny(n.stateNode),je(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(co)throw co=!1,t=Ol,Ol=null,t;return fo&1&&t.tag!==0&&dr(),i=t.pendingLanes,i&1?t===$l?us++:(us=0,$l=t):us=0,cn(),null}function dr(){if(Gt!==null){var t=oh(fo),e=Xe.transition,n=z;try{if(Xe.transition=null,z=16>t?16:t,Gt===null)var r=!1;else{if(t=Gt,Gt=null,fo=0,U&6)throw Error(k(331));var s=U;for(U|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:as(8,c,i)}var d=c.child;if(d!==null)d.return=c,P=d;else for(;P!==null;){c=P;var h=c.sibling,g=c.return;if(yp(c),c===u){P=null;break}if(h!==null){h.return=g,P=h;break}P=g}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var f=t.current;for(P=f;P!==null;){o=P;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,P=p;else e:for(o=f;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ro(9,a)}}catch(S){Z(a,a.return,S)}if(a===o){P=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,P=_;break e}P=a.return}}if(U=s,cn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(So,t)}catch{}r=!0}return r}finally{z=n,Xe.transition=e}}return!1}function Nd(t,e,n){e=kr(n,e),e=op(t,e,1),t=tn(t,e,1),e=xe(),t!==null&&(Ns(t,1,e),je(t,e))}function Z(t,e,n){if(t.tag===3)Nd(t,t,n);else for(;e!==null;){if(e.tag===3){Nd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){t=kr(n,t),t=ap(e,t,1),e=tn(e,t,1),t=xe(),e!==null&&(Ns(e,1,t),je(e,t));break}}e=e.return}}function Rv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&n,de===t&&(me&n)===n&&(oe===4||oe===3&&(me&130023424)===me&&500>te()-zu?Cn(t,0):Uu|=n),je(t,e)}function bp(t,e){e===0&&(t.mode&1?(e=ti,ti<<=1,!(ti&130023424)&&(ti=4194304)):e=1);var n=xe();t=jt(t,e),t!==null&&(Ns(t,e,n),je(t,n))}function Av(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bp(t,n)}function Ov(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),bp(t,n)}var Tp;Tp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$e.current)Oe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oe=!1,vv(t,e,n);Oe=!!(t.flags&131072)}else Oe=!1,Q&&e.flags&1048576&&$h(e,no,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ji(t,e),t=e.pendingProps;var s=vr(e,ke.current);cr(e,n),s=ju(null,e,r,t,s,n);var i=Nu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)?(i=!0,eo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ru(e),s.updater=To,e.stateNode=s,s._reactInternals=e,wl(e,r,t,n),e=El(null,e,r,!0,i,n)):(e.tag=0,Q&&i&&ku(e),Ee(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ji(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Iv(r),t=rt(r,t),s){case 0:e=kl(null,e,r,t,n);break e;case 1:e=Cd(null,e,r,t,n);break e;case 11:e=Ed(null,e,r,t,n);break e;case 14:e=xd(null,e,r,rt(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),kl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),Cd(t,e,r,s,n);case 3:e:{if(dp(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Mh(t,e),io(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=kr(Error(k(423)),e),e=Pd(t,e,r,n,s);break e}else if(r!==s){s=kr(Error(k(424)),e),e=Pd(t,e,r,n,s);break e}else for(ze=en(e.stateNode.containerInfo.firstChild),Be=e,Q=!0,at=null,n=Lh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===s){e=Nt(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return Fh(e),t===null&&yl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,fl(r,s)?o=null:i!==null&&fl(r,i)&&(e.flags|=32),cp(t,e),Ee(t,e,o,n),e.child;case 6:return t===null&&yl(e),null;case 13:return fp(t,e,n);case 4:return Au(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wr(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),Ed(t,e,r,s,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(ro,r._currentValue),r._currentValue=o,i!==null)if(ft(i.value,o)){if(i.children===s.children&&!$e.current){e=Nt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ot(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vl(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ee(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,cr(e,n),s=Ze(s),r=r(s),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,s=rt(r,e.pendingProps),s=rt(r.type,s),xd(t,e,r,s,n);case 15:return lp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),ji(t,e),e.tag=1,Ie(r)?(t=!0,eo(e)):t=!1,cr(e,n),ip(e,r,s),wl(e,r,s,n),El(null,e,r,!0,t,n);case 19:return hp(t,e,n);case 22:return up(t,e,n)}throw Error(k(156,e.tag))};function Rp(t,e){return nh(t,e)}function $v(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,r){return new $v(t,e,n,r)}function Vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Iv(t){if(typeof t=="function")return Vu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cu)return 11;if(t===du)return 14}return 2}function sn(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Di(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Vu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qn:return Pn(n.children,s,i,e);case uu:o=8,s|=8;break;case Ha:return t=Ke(12,n,e,s|2),t.elementType=Ha,t.lanes=i,t;case Va:return t=Ke(13,n,e,s),t.elementType=Va,t.lanes=i,t;case Ja:return t=Ke(19,n,e,s),t.elementType=Ja,t.lanes=i,t;case Ff:return Oo(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Df:o=10;break e;case Mf:o=9;break e;case cu:o=11;break e;case du:o=14;break e;case Wt:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ke(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pn(t,e,n,r){return t=Ke(7,t,r,e),t.lanes=n,t}function Oo(t,e,n,r){return t=Ke(22,t,r,e),t.elementType=Ff,t.lanes=n,t.stateNode={isHidden:!1},t}function Pa(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function ba(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aa(0),this.expirationTimes=aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ju(t,e,n,r,s,i,o,a,l){return t=new jv(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(i),t}function Nv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ap(t){if(!t)return an;t=t._reactInternals;e:{if(In(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Ie(n))return Ah(t,n,e)}return e}function Op(t,e,n,r,s,i,o,a,l){return t=Ju(n,r,!0,t,s,i,o,a,l),t.context=Ap(null),n=t.current,r=xe(),s=rn(n),i=Ot(r,s),i.callback=e??null,tn(n,i,s),t.current.lanes=s,Ns(t,s,r),je(t,r),t}function $o(t,e,n,r){var s=e.current,i=xe(),o=rn(s);return n=Ap(n),e.context===null?e.context=n:e.pendingContext=n,e=Ot(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tn(s,e,o),t!==null&&(dt(t,s,o,i),Oi(t,s,o)),o}function po(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ld(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qu(t,e){Ld(t,e),(t=t.alternate)&&Ld(t,e)}function Lv(){return null}var $p=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qu(t){this._internalRoot=t}Io.prototype.render=Qu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));$o(t,e,null,null)};Io.prototype.unmount=Qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;On(function(){$o(null,t,null,null)}),e[It]=null}};function Io(t){this._internalRoot=t}Io.prototype.unstable_scheduleHydration=function(t){if(t){var e=uh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jt.length&&e!==0&&e<Jt[n].priority;n++);Jt.splice(n,0,t),n===0&&dh(t)}};function Ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function Dv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=po(o);i.call(u)}}var o=Op(e,r,t,0,null,!1,!1,"",Dd);return t._reactRootContainer=o,t[It]=o.current,ks(t.nodeType===8?t.parentNode:t),On(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=po(l);a.call(u)}}var l=Ju(t,0,!1,null,null,!1,!1,"",Dd);return t._reactRootContainer=l,t[It]=l.current,ks(t.nodeType===8?t.parentNode:t),On(function(){$o(e,l,n,r)}),l}function No(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=po(o);a.call(l)}}$o(e,o,t,s)}else o=Dv(n,e,t,s,r);return po(o)}ah=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jr(e.pendingLanes);n!==0&&(pu(e,n|1),je(e,te()),!(U&6)&&(Er=te()+500,cn()))}break;case 13:On(function(){var r=jt(t,1);if(r!==null){var s=xe();dt(r,t,1,s)}}),qu(t,1)}};mu=function(t){if(t.tag===13){var e=jt(t,134217728);if(e!==null){var n=xe();dt(e,t,134217728,n)}qu(t,134217728)}};lh=function(t){if(t.tag===13){var e=rn(t),n=jt(t,e);if(n!==null){var r=xe();dt(n,t,e,r)}qu(t,e)}};uh=function(){return z};ch=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};nl=function(t,e,n){switch(e){case"input":if(Ka(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Co(r);if(!s)throw Error(k(90));zf(r),Ka(r,s)}}}break;case"textarea":Wf(t,n);break;case"select":e=n.value,e!=null&&or(t,!!n.multiple,e,!1)}};Gf=Bu;Xf=On;var Mv={usingClientEntryPoint:!1,Events:[Ds,Yn,Co,Qf,Kf,Bu]},Br={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fv={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eh(t),t===null?null:t.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||Lv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{So=fi.inject(Fv),St=fi}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;He.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ku(e))throw Error(k(200));return Nv(t,e,null,n)};He.createRoot=function(t,e){if(!Ku(t))throw Error(k(299));var n=!1,r="",s=$p;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ju(t,1,!1,null,null,n,!1,r,s),t[It]=e.current,ks(t.nodeType===8?t.parentNode:t),new Qu(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=eh(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return On(t)};He.hydrate=function(t,e,n){if(!jo(e))throw Error(k(200));return No(null,t,e,!0,n)};He.hydrateRoot=function(t,e,n){if(!Ku(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$p;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Op(e,null,t,1,n??null,s,!1,i,o),t[It]=e.current,ks(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Io(e)};He.render=function(t,e,n){if(!jo(e))throw Error(k(200));return No(null,t,e,!1,n)};He.unmountComponentAtNode=function(t){if(!jo(t))throw Error(k(40));return t._reactRootContainer?(On(function(){No(null,null,t,!1,function(){t._reactRootContainer=null,t[It]=null})}),!0):!1};He.unstable_batchedUpdates=Bu;He.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jo(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return No(t,e,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function Ip(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ip)}catch(t){console.error(t)}}Ip(),If.exports=He;var Uv=If.exports,jp,Md=Uv;jp=Md.createRoot,Md.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lo=(t,e)=>{const n=lt.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>lt.createElement("svg",{ref:c,...zv,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Bv(t)}`,a].join(" "),...u},[...e.map(([d,h])=>lt.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Lo("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Lo("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Lo("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Lo("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Nl="RFC3986",Ll={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},qv="RFC1738",Qv=Array.isArray,pt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Ta=1024,Kv=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=Ta){const l=i.length>=Ta?i.slice(a,a+Ta):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===qv&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=pt[d];continue}if(d<2048){u[u.length]=pt[192|d>>6]+pt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=pt[224|d>>12]+pt[128|d>>6&63]+pt[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=pt[240|d>>18]+pt[128|d>>12&63]+pt[128|d>>6&63]+pt[128|d&63]}o+=u.join("")}return o};function Gv(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Fd(t,e){if(Qv(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const Xv=Object.prototype.hasOwnProperty,Np={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},yt=Array.isArray,Yv=Array.prototype.push,Lp=function(t,e){Yv.apply(t,yt(e)?e:[e])},Zv=Date.prototype.toISOString,se={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Kv,encodeValuesOnly:!1,format:Nl,formatter:Ll[Nl],indices:!1,serializeDate(t){return Zv.call(t)},skipNulls:!1,strictNullHandling:!1};function e_(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Ra={};function Dp(t,e,n,r,s,i,o,a,l,u,c,d,h,g,y,v,w,m){let f=t,p=m,_=0,S=!1;for(;(p=p.get(Ra))!==void 0&&!S;){const T=p.get(t);if(_+=1,typeof T<"u"){if(T===_)throw new RangeError("Cyclic object value");S=!0}typeof p.get(Ra)>"u"&&(_=0)}if(typeof u=="function"?f=u(e,f):f instanceof Date?f=h==null?void 0:h(f):n==="comma"&&yt(f)&&(f=Fd(f,function(T){return T instanceof Date?h==null?void 0:h(T):T})),f===null){if(i)return l&&!v?l(e,se.encoder,w,"key",g):e;f=""}if(e_(f)||Gv(f)){if(l){const T=v?e:l(e,se.encoder,w,"key",g);return[(y==null?void 0:y(T))+"="+(y==null?void 0:y(l(f,se.encoder,w,"value",g)))]}return[(y==null?void 0:y(e))+"="+(y==null?void 0:y(String(f)))]}const x=[];if(typeof f>"u")return x;let E;if(n==="comma"&&yt(f))v&&l&&(f=Fd(f,l)),E=[{value:f.length>0?f.join(",")||null:void 0}];else if(yt(u))E=u;else{const T=Object.keys(f);E=c?T.sort(c):T}const C=a?String(e).replace(/\./g,"%2E"):String(e),O=r&&yt(f)&&f.length===1?C+"[]":C;if(s&&yt(f)&&f.length===0)return O+"[]";for(let T=0;T<E.length;++T){const j=E[T],Je=typeof j=="object"&&typeof j.value<"u"?j.value:f[j];if(o&&Je===null)continue;const Et=d&&a?j.replace(/\./g,"%2E"):j,Js=yt(f)?typeof n=="function"?n(O,Et):O:O+(d?"."+Et:"["+Et+"]");m.set(t,_);const qs=new WeakMap;qs.set(Ra,m),Lp(x,Dp(Je,Js,n,r,s,i,o,a,n==="comma"&&v&&yt(f)?null:l,u,c,d,h,g,y,v,w,qs))}return x}function t_(t=se){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||se.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Nl;if(typeof t.format<"u"){if(!Xv.call(Ll,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Ll[n];let s=se.filter;(typeof t.filter=="function"||yt(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in Np?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=se.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:se.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:se.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:se.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:se.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?se.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:se.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:se.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:se.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:se.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:se.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:se.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:se.strictNullHandling}}function n_(t,e={}){let n=t;const r=t_(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):yt(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const a=Np[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const g=s[h];r.skipNulls&&n[g]===null||Lp(o,Dp(n[g],g,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}const Hn="4.87.4";let Ud=!1,cs,Mp,Fp,Dl,Up,zp,Bp,Wp,Hp;function r_(t,e={auto:!1}){if(Ud)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(cs)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${cs}'\``);Ud=e.auto,cs=t.kind,Mp=t.fetch,Fp=t.FormData,Dl=t.File,Up=t.ReadableStream,zp=t.getMultipartRequestOptions,Bp=t.getDefaultAgent,Wp=t.fileFromPath,Hp=t.isFsReadStream}class s_{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function i_({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new s_(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}cs||r_(i_(),{auto:!0});class A extends Error{}class ye extends A{constructor(e,n,r,s){super(`${ye.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Do({message:r,cause:Fl(n)});const i=n==null?void 0:n.error;return e===400?new Vp(e,i,r,s):e===401?new Jp(e,i,r,s):e===403?new qp(e,i,r,s):e===404?new Qp(e,i,r,s):e===409?new Kp(e,i,r,s):e===422?new Gp(e,i,r,s):e===429?new Xp(e,i,r,s):e>=500?new Yp(e,i,r,s):new ye(e,i,r,s)}}class Ge extends ye{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Do extends ye{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Gu extends Do{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Vp extends ye{}class Jp extends ye{}class qp extends ye{}class Qp extends ye{}class Kp extends ye{}class Gp extends ye{}class Xp extends ye{}class Yp extends ye{}class Zp extends A{constructor(){super("Could not parse response content as the length limit was reached")}}class em extends A{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var hi=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},pn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},De;class Mo{constructor(){De.set(this,void 0),this.buffer=new Uint8Array,hi(this,De,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=o_(this.buffer,pn(this,De,"f")))!=null;){if(i.carriage&&pn(this,De,"f")==null){hi(this,De,i.index,"f");continue}if(pn(this,De,"f")!=null&&(i.index!==pn(this,De,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,pn(this,De,"f")-1))),this.buffer=this.buffer.slice(pn(this,De,"f")),hi(this,De,null,"f");continue}const o=pn(this,De,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));s.push(a),this.buffer=this.buffer.slice(i.index),hi(this,De,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new A(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new A(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new A("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}De=new WeakMap;Mo.NEWLINE_CHARS=new Set([`
`,"\r"]);Mo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function o_(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function a_(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function tm(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class wt{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of l_(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new ye(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new ye(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new wt(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const o=new Mo,a=tm(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new wt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new wt(()=>s(e),this.controller),new wt(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Up({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*l_(t,e){if(!t.body)throw e.abort(),new A("Attempted to iterate over a response with no body");const n=new c_,r=new Mo,s=tm(t.body);for await(const i of u_(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*u_(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=a_(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class c_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=d_(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function d_(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const nm=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",rm=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fo(t),Fo=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",f_=t=>rm(t)||nm(t)||Hp(t);async function sm(t,e,n){var s;if(t=await t,rm(t))return t;if(nm(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Fo(i)?[await i.arrayBuffer()]:[i];return new Dl(o,e,n)}const r=await h_(t);if(e||(e=m_(t)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Dl(r,e,n)}async function h_(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Fo(t))e.push(await t.arrayBuffer());else if(g_(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${p_(t)}`);return e}function p_(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function m_(t){var e;return Aa(t.name)||Aa(t.filename)||((e=Aa(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Aa=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},g_=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",zd=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",xr=async t=>{const e=await y_(t.body);return zp(e,t)},y_=async t=>{const e=new Fp;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Ml(e,n,r))),e},Ml=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(f_(n)){const r=await sm(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Ml(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Ml(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var fr={},v_=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},__=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},pi;async function im(t){var o;const{response:e}=t;if(t.options.stream)return hr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):wt.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const a=await e.json();return hr("response",e.status,e.url,e.headers,a),om(a,e)}const i=await e.text();return hr("response",e.status,e.url,e.headers,i),i}function om(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Uo extends Promise{constructor(e,n=im){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Uo(this.responsePromise,async n=>om(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class w_{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Oa("maxRetries",n),this.timeout=Oa("timeout",r),this.httpAgent=s,this.fetch=i??Mp}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...P_(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${A_()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Fo(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var y;e={...e};const{method:r,path:s,query:i,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:zd(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(a),u=this.buildURL(s,i);"timeout"in e&&Oa("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const c=e.httpAgent??this.httpAgent??Bp(u),d=e.timeout+1e3;typeof((y=c==null?void 0:c.options)==null?void 0:y.timeout)=="number"&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:h,...c&&{agent:c},signal:e.signal??null},url:u,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(e);return Vd(i,o),Vd(i,n),zd(e.body)&&cs!=="node"&&delete i["content-type"],gi(o,"x-stainless-retry-count")===void 0&&gi(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),gi(o,"x-stainless-timeout")===void 0&&gi(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return ye.generate(e,n,r,s)}request(e,n=null){return new Uo(this.makeRequest(e,n))}async makeRequest(e,n){var d,h;const r=await e,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),hr("request",o,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new Ge;const l=new AbortController,u=await this.fetchWithTimeout(o,i,a,l).catch(Fl);if(u instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new Ge;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Gu:new Do({cause:u})}const c=k_(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const f=`retrying, ${n} attempts remaining`;return hr(`response (error; ${f})`,u.status,o,c),this.retryRequest(r,n,c)}const g=await u.text().catch(f=>Fl(f).message),y=b_(g),v=y?void 0:g;throw hr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,c,v),this.makeStatusError(u.status,y,v,c)}return{response:u,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new S_(this,r,e)}buildURL(e,n){const r=R_(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return lm(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new A(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(a)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Fs(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Hn}`}}class am{constructor(e,n,r,s){pi.set(this,void 0),v_(this,pi,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new A("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await __(this,pi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(pi=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class S_ extends Uo{constructor(e,n,r){super(n,async s=>new r(e,s.response,await im(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const k_=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),E_={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},fe=t=>typeof t=="object"&&t!==null&&!lm(t)&&Object.keys(t).every(e=>um(E_,e)),x_=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hn,"X-Stainless-OS":Wd(Deno.build.os),"X-Stainless-Arch":Bd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hn,"X-Stainless-OS":Wd(process.platform),"X-Stainless-Arch":Bd(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=C_();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function C_(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const Bd=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Wd=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Hd;const P_=()=>Hd??(Hd=x_()),b_=t=>{try{return JSON.parse(t)}catch{return}},T_=/^[a-z][a-z0-9+.-]*:/i,R_=t=>T_.test(t),Fs=t=>new Promise(e=>setTimeout(e,t)),Oa=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new A(`${t} must be an integer`);if(e<0)throw new A(`${t} must be a positive integer`);return e},Fl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},mi=t=>{var e,n,r,s;if(typeof process<"u")return((e=fr==null?void 0:fr[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function lm(t){if(!t)return!0;for(const e in t)return!1;return!0}function um(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vd(t,e){for(const n in e){if(!um(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}const Jd=new Set(["authorization","api-key"]);function hr(t,...e){if(typeof process<"u"&&(fr==null?void 0:fr.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const o in r.headers)Jd.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let s=null;for(const i in r)Jd.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const A_=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),O_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",$_=t=>typeof(t==null?void 0:t.get)=="function",gi=(t,e)=>{var r;const n=e.toLowerCase();if($_(t)){const s=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[e,n,e.toUpperCase(),s]){const o=t.get(i);if(o)return o}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function $a(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Xu extends am{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ne extends am{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class F{constructor(e){this._client=e}}let cm=class extends F{list(e,n={},r){return fe(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,I_,{query:n,...r})}},zo=class extends F{constructor(){super(...arguments),this.messages=new cm(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return fe(e)?this.list({},e):this._client.getAPIList("/chat/completions",Bo,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Bo extends Ne{}class I_ extends Ne{}zo.ChatCompletionsPage=Bo;zo.Messages=cm;let Wo=class extends F{constructor(){super(...arguments),this.completions=new zo(this._client)}};Wo.Completions=zo;Wo.ChatCompletionsPage=Bo;class dm extends F{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class fm extends F{create(e,n){return this._client.post("/audio/transcriptions",xr({body:e,...n,__metadata:{model:e.model}}))}}class hm extends F{create(e,n){return this._client.post("/audio/translations",xr({body:e,...n,__metadata:{model:e.model}}))}}class Us extends F{constructor(){super(...arguments),this.transcriptions=new fm(this._client),this.translations=new hm(this._client),this.speech=new dm(this._client)}}Us.Transcriptions=fm;Us.Translations=hm;Us.Speech=dm;class Yu extends F{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return fe(e)?this.list({},e):this._client.getAPIList("/batches",Zu,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Zu extends Ne{}Yu.BatchesPage=Zu;class ec extends F{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return fe(e)?this.list({},e):this._client.getAPIList("/assistants",tc,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class tc extends Ne{}ec.AssistantsPage=tc;function qd(t){return typeof t.parse=="function"}const pr=t=>(t==null?void 0:t.role)==="assistant",pm=t=>(t==null?void 0:t.role)==="function",mm=t=>(t==null?void 0:t.role)==="tool";var nt=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},K=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ul,Mi,Fi,Qr,Kr,Ui,Gr,Ct,Xr,mo,go,Vn,gm;class nc{constructor(){Ul.add(this),this.controller=new AbortController,Mi.set(this,void 0),Fi.set(this,()=>{}),Qr.set(this,()=>{}),Kr.set(this,void 0),Ui.set(this,()=>{}),Gr.set(this,()=>{}),Ct.set(this,{}),Xr.set(this,!1),mo.set(this,!1),go.set(this,!1),Vn.set(this,!1),nt(this,Mi,new Promise((e,n)=>{nt(this,Fi,e,"f"),nt(this,Qr,n,"f")}),"f"),nt(this,Kr,new Promise((e,n)=>{nt(this,Ui,e,"f"),nt(this,Gr,n,"f")}),"f"),K(this,Mi,"f").catch(()=>{}),K(this,Kr,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},K(this,Ul,"m",gm).bind(this))},0)}_connected(){this.ended||(K(this,Fi,"f").call(this),this._emit("connect"))}get ended(){return K(this,Xr,"f")}get errored(){return K(this,mo,"f")}get aborted(){return K(this,go,"f")}abort(){this.controller.abort()}on(e,n){return(K(this,Ct,"f")[e]||(K(this,Ct,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=K(this,Ct,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(K(this,Ct,"f")[e]||(K(this,Ct,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{nt(this,Vn,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){nt(this,Vn,!0,"f"),await K(this,Kr,"f")}_emit(e,...n){if(K(this,Xr,"f"))return;e==="end"&&(nt(this,Xr,!0,"f"),K(this,Ui,"f").call(this));const r=K(this,Ct,"f")[e];if(r&&(K(this,Ct,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!K(this,Vn,"f")&&!(r!=null&&r.length)&&Promise.reject(s),K(this,Qr,"f").call(this,s),K(this,Gr,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!K(this,Vn,"f")&&!(r!=null&&r.length)&&Promise.reject(s),K(this,Qr,"f").call(this,s),K(this,Gr,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Mi=new WeakMap,Fi=new WeakMap,Qr=new WeakMap,Kr=new WeakMap,Ui=new WeakMap,Gr=new WeakMap,Ct=new WeakMap,Xr=new WeakMap,mo=new WeakMap,go=new WeakMap,Vn=new WeakMap,Ul=new WeakSet,gm=function(e){if(nt(this,mo,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Ge),e instanceof Ge)return nt(this,go,!0,"f"),this._emit("abort",e);if(e instanceof A)return this._emit("error",e);if(e instanceof Error){const n=new A(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new A(String(e)))};function rc(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function zs(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function j_(t,e){return!e||!ym(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:sc(t,e)}function sc(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Zp;if(r.finish_reason==="content_filter")throw new em;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>L_(e,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?N_(e,r.message.content):null}}});return{...t,choices:n}}function N_(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function L_(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:zs(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function D_(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return zs(n)||(n==null?void 0:n.function.strict)||!1}function ym(t){var e;return rc(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>zs(n)||n.type==="function"&&n.function.strict===!0))??!1}function M_(t){for(const e of t??[]){if(e.type!=="function")throw new A(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new A(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Te=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},we,zl,yo,Bl,Wl,Hl,vm,Vl;const Qd=10;class _m extends nc{constructor(){super(...arguments),we.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(pm(e)||mm(e))&&e.content)this._emit("functionCallResult",e.content);else if(pr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(pr(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new A("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Te(this,we,"m",zl).call(this)}async finalMessage(){return await this.done(),Te(this,we,"m",yo).call(this)}async finalFunctionCall(){return await this.done(),Te(this,we,"m",Bl).call(this)}async finalFunctionCallResult(){return await this.done(),Te(this,we,"m",Wl).call(this)}async totalUsage(){return await this.done(),Te(this,we,"m",Hl).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Te(this,we,"m",yo).call(this);n&&this._emit("finalMessage",n);const r=Te(this,we,"m",zl).call(this);r&&this._emit("finalContent",r);const s=Te(this,we,"m",Bl).call(this);s&&this._emit("finalFunctionCall",s);const i=Te(this,we,"m",Wl).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Te(this,we,"m",Hl).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Te(this,we,"m",vm).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(sc(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var h;const s="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Qd}=r||{},c={};for(const g of n.functions)c[g.name||g.function.name]=g;const d=n.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<u;++g){const v=(h=(await this._createChatCompletion(e,{...a,function_call:i,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!v)throw new A("missing message in ChatCompletion response");if(!v.function_call)return;const{name:w,arguments:m}=v.function_call,f=c[w];if(f){if(l&&l!==w){const x=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:w,content:x});continue}}else{const x=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${d.map(E=>JSON.stringify(E.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:w,content:x});continue}let p;try{p=qd(f)?await f.parse(m):m}catch(x){this._addMessage({role:s,name:w,content:x instanceof Error?x.message:String(x)});continue}const _=await f.function(p,this),S=Te(this,we,"m",Vl).call(this,_);if(this._addMessage({role:s,name:w,content:S}),l)return}}async _runTools(e,n,r){var g,y,v;const s="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:u=Qd}=r||{},c=n.tools.map(w=>{if(zs(w)){if(!w.$callback)throw new A("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),d={};for(const w of c)w.type==="function"&&(d[w.function.name||w.function.function.name]=w.function);const h="tools"in n?c.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const f=(y=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:y.message;if(!f)throw new A("missing message in ChatCompletion response");if(!((v=f.tool_calls)!=null&&v.length))return;for(const p of f.tool_calls){if(p.type!=="function")continue;const _=p.id,{name:S,arguments:x}=p.function,E=d[S];if(E){if(l&&l!==S){const j=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:_,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(d).map(Je=>JSON.stringify(Je)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:_,content:j});continue}let C;try{C=qd(E)?await E.parse(x):x}catch(j){const Je=j instanceof Error?j.message:String(j);this._addMessage({role:s,tool_call_id:_,content:Je});continue}const O=await E.function(C,this),T=Te(this,we,"m",Vl).call(this,O);if(this._addMessage({role:s,tool_call_id:_,content:T}),l)return}}}}we=new WeakSet,zl=function(){return Te(this,we,"m",yo).call(this).content??null},yo=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(pr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new A("stream ended without producing a ChatCompletionMessage with role=assistant")},Bl=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(pr(s)&&(s!=null&&s.function_call))return s.function_call;if(pr(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Wl=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(pm(n)&&n.content!=null||mm(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Hl=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},vm=function(e){if(e.n!=null&&e.n>1)throw new A("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Vl=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Os extends _m{static runFunctions(e,n,r){const s=new Os,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Os,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),pr(e)&&e.content&&this._emit("content",e.content)}}const wm=1,Sm=2,km=4,Em=8,xm=16,Cm=32,Pm=64,bm=128,Tm=256,Rm=bm|Tm,Am=xm|Cm|Rm|Pm,Om=wm|Sm|Am,$m=km|Em,F_=Om|$m,le={STR:wm,NUM:Sm,ARR:km,OBJ:Em,NULL:xm,BOOL:Cm,NAN:Pm,INFINITY:bm,MINUS_INFINITY:Tm,INF:Rm,SPECIAL:Am,ATOM:Om,COLLECTION:$m,ALL:F_};class U_ extends Error{}class z_ extends Error{}function B_(t,e=le.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return W_(t.trim(),e)}const W_=(t,e)=>{const n=t.length;let r=0;const s=h=>{throw new U_(`${h} at position ${r}`)},i=h=>{throw new z_(`${h} at position ${r}`)},o=()=>(d(),r>=n&&s("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||le.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||le.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||le.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||le.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||le.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||le.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):c()),a=()=>{const h=r;let g=!1;for(r++;r<n&&(t[r]!=='"'||g&&t[r-1]==="\\");)g=t[r]==="\\"?!g:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(h,++r-Number(g)))}catch(y){i(String(y))}else if(le.STR&e)try{return JSON.parse(t.substring(h,r-Number(g))+'"')}catch{return JSON.parse(t.substring(h,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const h={};try{for(;t[r]!=="}";){if(d(),r>=n&&le.OBJ&e)return h;const g=a();d(),r++;try{const y=o();Object.defineProperty(h,g,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(le.OBJ&e)return h;throw y}d(),t[r]===","&&r++}}catch{if(le.OBJ&e)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;t[r]!=="]";)h.push(o()),d(),t[r]===","&&r++}catch{if(le.ARR&e)return h;s("Expected ']' at end of array")}return r++,h},c=()=>{if(r===0){t==="-"&&le.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(g){if(le.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(g))}}const h=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(le.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(h,r))}catch{t.substring(h,r)==="-"&&le.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(h,t.lastIndexOf("e")))}catch(y){i(String(y))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},Kd=t=>B_(t,le.ALL^le.NUM);var Dn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},B=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},re,xt,Mn,Mt,Ia,yi,ja,Na,La,vi,Da,Gd;class $s extends _m{constructor(e){super(),re.add(this),xt.set(this,void 0),Mn.set(this,void 0),Mt.set(this,void 0),Dn(this,xt,e,"f"),Dn(this,Mn,[],"f")}get currentChatCompletionSnapshot(){return B(this,Mt,"f")}static fromReadableStream(e){const n=new $s(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new $s(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),B(this,re,"m",Ia).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)B(this,re,"m",ja).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Ge;return this._addChatCompletion(B(this,re,"m",vi).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),B(this,re,"m",Ia).call(this),this._connected();const s=wt.fromReadableStream(e,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(B(this,re,"m",vi).call(this)),B(this,re,"m",ja).call(this,a),i=a.id;if((o=s.controller.signal)!=null&&o.aborted)throw new Ge;return this._addChatCompletion(B(this,re,"m",vi).call(this))}[(xt=new WeakMap,Mn=new WeakMap,Mt=new WeakMap,re=new WeakSet,Ia=function(){this.ended||Dn(this,Mt,void 0,"f")},yi=function(n){let r=B(this,Mn,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},B(this,Mn,"f")[n.index]=r,r)},ja=function(n){var s,i,o,a,l,u,c,d,h,g,y,v,w,m,f;if(this.ended)return;const r=B(this,re,"m",Gd).call(this,n);this._emit("chunk",n,r);for(const p of n.choices){const _=r.choices[p.index];p.delta.content!=null&&((s=_.message)==null?void 0:s.role)==="assistant"&&((i=_.message)!=null&&i.content)&&(this._emit("content",p.delta.content,_.message.content),this._emit("content.delta",{delta:p.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),p.delta.refusal!=null&&((o=_.message)==null?void 0:o.role)==="assistant"&&((a=_.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:p.delta.refusal,snapshot:_.message.refusal}),((l=p.logprobs)==null?void 0:l.content)!=null&&((u=_.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=p.logprobs)==null?void 0:c.content,snapshot:((d=_.logprobs)==null?void 0:d.content)??[]}),((h=p.logprobs)==null?void 0:h.refusal)!=null&&((g=_.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(y=p.logprobs)==null?void 0:y.refusal,snapshot:((v=_.logprobs)==null?void 0:v.refusal)??[]});const S=B(this,re,"m",yi).call(this,_);_.finish_reason&&(B(this,re,"m",La).call(this,_),S.current_tool_call_index!=null&&B(this,re,"m",Na).call(this,_,S.current_tool_call_index));for(const x of p.delta.tool_calls??[])S.current_tool_call_index!==x.index&&(B(this,re,"m",La).call(this,_),S.current_tool_call_index!=null&&B(this,re,"m",Na).call(this,_,S.current_tool_call_index)),S.current_tool_call_index=x.index;for(const x of p.delta.tool_calls??[]){const E=(w=_.message.tool_calls)==null?void 0:w[x.index];E!=null&&E.type&&((E==null?void 0:E.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=E.function)==null?void 0:m.name,index:x.index,arguments:E.function.arguments,parsed_arguments:E.function.parsed_arguments,arguments_delta:((f=x.function)==null?void 0:f.arguments)??""}):(E==null||E.type,void 0))}}},Na=function(n,r){var o,a,l;if(B(this,re,"m",yi).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(a=B(this,xt,"f"))==null?void 0:a.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:zs(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},La=function(n){var s,i;const r=B(this,re,"m",yi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=B(this,re,"m",Da).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},vi=function(){if(this.ended)throw new A("stream has ended, this shouldn't happen");const n=B(this,Mt,"f");if(!n)throw new A("request ended without sending any chunks");return Dn(this,Mt,void 0,"f"),Dn(this,Mn,[],"f"),H_(n,B(this,xt,"f"))},Da=function(){var r;const n=(r=B(this,xt,"f"))==null?void 0:r.response_format;return rc(n)?n:null},Gd=function(n){var r,s,i,o;let a=B(this,Mt,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=Dn(this,Mt,{...u,choices:[]},"f");for(const{delta:c,finish_reason:d,index:h,logprobs:g=null,...y}of n.choices){let v=a.choices[h];if(v||(v=a.choices[h]={finish_reason:d,index:h,message:{},logprobs:g,...y}),g)if(!v.logprobs)v.logprobs=Object.assign({},g);else{const{content:x,refusal:E,...C}=g;Object.assign(v.logprobs,C),x&&((r=v.logprobs).content??(r.content=[]),v.logprobs.content.push(...x)),E&&((s=v.logprobs).refusal??(s.refusal=[]),v.logprobs.refusal.push(...E))}if(d&&(v.finish_reason=d,B(this,xt,"f")&&ym(B(this,xt,"f")))){if(d==="length")throw new Zp;if(d==="content_filter")throw new em}if(Object.assign(v,y),!c)continue;const{content:w,refusal:m,function_call:f,role:p,tool_calls:_,...S}=c;if(Object.assign(v.message,S),m&&(v.message.refusal=(v.message.refusal||"")+m),p&&(v.message.role=p),f&&(v.message.function_call?(f.name&&(v.message.function_call.name=f.name),f.arguments&&((i=v.message.function_call).arguments??(i.arguments=""),v.message.function_call.arguments+=f.arguments)):v.message.function_call=f),w&&(v.message.content=(v.message.content||"")+w,!v.message.refusal&&B(this,re,"m",Da).call(this)&&(v.message.parsed=Kd(v.message.content))),_){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:x,id:E,type:C,function:O,...T}of _){const j=(o=v.message.tool_calls)[x]??(o[x]={});Object.assign(j,T),E&&(j.id=E),C&&(j.type=C),O&&(j.function??(j.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(j.function.name=O.name),O!=null&&O.arguments&&(j.function.arguments+=O.arguments,D_(B(this,xt,"f"),j)&&(j.function.parsed_arguments=Kd(j.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new wt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function H_(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:h,...g})=>{if(!c)throw new A(`missing finish_reason for choice ${d}`);const{content:y=null,function_call:v,tool_calls:w,...m}=u,f=u.role;if(!f)throw new A(`missing role for choice ${d}`);if(v){const{arguments:p,name:_}=v;if(p==null)throw new A(`missing function_call.arguments for choice ${d}`);if(!_)throw new A(`missing function_call.name for choice ${d}`);return{...g,message:{content:y,function_call:{arguments:p,name:_},role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}return w?{...g,index:d,finish_reason:c,logprobs:h,message:{...m,role:f,content:y,refusal:u.refusal??null,tool_calls:w.map((p,_)=>{const{function:S,type:x,id:E,...C}=p,{arguments:O,name:T,...j}=S||{};if(E==null)throw new A(`missing choices[${d}].tool_calls[${_}].id
${_i(t)}`);if(x==null)throw new A(`missing choices[${d}].tool_calls[${_}].type
${_i(t)}`);if(T==null)throw new A(`missing choices[${d}].tool_calls[${_}].function.name
${_i(t)}`);if(O==null)throw new A(`missing choices[${d}].tool_calls[${_}].function.arguments
${_i(t)}`);return{...C,id:E,type:x,function:{...j,name:T,arguments:O}}})}}:{...g,message:{...m,content:y,role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return j_(l,e)}function _i(t){return JSON.stringify(t)}class mr extends $s{static fromReadableStream(e){const n=new mr(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new mr(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new mr(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let Im=class extends F{parse(e,n){return M_(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>sc(r,e))}runFunctions(e,n){return e.stream?mr.runFunctions(this._client,e,n):Os.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?mr.runTools(this._client,e,n):Os.runTools(this._client,e,n)}stream(e,n){return $s.createChatCompletion(this._client,e,n)}};class Jl extends F{constructor(){super(...arguments),this.completions=new Im(this._client)}}(function(t){t.Completions=Im})(Jl||(Jl={}));class jm extends F{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ic extends F{constructor(){super(...arguments),this.sessions=new jm(this._client)}}ic.Sessions=jm;var R=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Le=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},pe,ql,vt,zi,st,xn,ir,_n,vo,Me,Bi,Wi,ds,Yr,Zr,Xd,Yd,Zd,ef,tf,nf,rf;class ut extends nc{constructor(){super(...arguments),pe.add(this),ql.set(this,[]),vt.set(this,{}),zi.set(this,{}),st.set(this,void 0),xn.set(this,void 0),ir.set(this,void 0),_n.set(this,void 0),vo.set(this,void 0),Me.set(this,void 0),Bi.set(this,void 0),Wi.set(this,void 0),ds.set(this,void 0)}[(ql=new WeakMap,vt=new WeakMap,zi=new WeakMap,st=new WeakMap,xn=new WeakMap,ir=new WeakMap,_n=new WeakMap,vo=new WeakMap,Me=new WeakMap,Bi=new WeakMap,Wi=new WeakMap,ds=new WeakMap,pe=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new ut;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=wt.fromReadableStream(e,this.controller);for await(const o of s)R(this,pe,"m",Yr).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new Ge;return this._addRun(R(this,pe,"m",Zr).call(this))}toReadableStream(){return new wt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const o=new ut;return o._run(()=>o._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await e.submitToolOutputs(n,r,a,{...i,signal:this.controller.signal});this._connected();for await(const c of l)R(this,pe,"m",Yr).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new Ge;return this._addRun(R(this,pe,"m",Zr).call(this))}static createThreadAssistantStream(e,n,r){const s=new ut;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new ut;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return R(this,Bi,"f")}currentRun(){return R(this,Wi,"f")}currentMessageSnapshot(){return R(this,st,"f")}currentRunStepSnapshot(){return R(this,ds,"f")}async finalRunSteps(){return await this.done(),Object.values(R(this,vt,"f"))}async finalMessages(){return await this.done(),Object.values(R(this,zi,"f"))}async finalRun(){if(await this.done(),!R(this,xn,"f"))throw Error("Final run was not received.");return R(this,xn,"f")}async _createThreadAssistantStream(e,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of o)R(this,pe,"m",Yr).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Ge;return this._addRun(R(this,pe,"m",Zr).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of a)R(this,pe,"m",Yr).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new Ge;return this._addRun(R(this,pe,"m",Zr).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if($a(i)&&$a(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!$a(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}}Yr=function(e){if(!this.ended)switch(Le(this,Bi,e,"f"),R(this,pe,"m",Zd).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":R(this,pe,"m",rf).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":R(this,pe,"m",Yd).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":R(this,pe,"m",Xd).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Zr=function(){if(this.ended)throw new A("stream has ended, this shouldn't happen");if(!R(this,xn,"f"))throw Error("Final run has not been received");return R(this,xn,"f")},Xd=function(e){const[n,r]=R(this,pe,"m",tf).call(this,e,R(this,st,"f"));Le(this,st,n,"f"),R(this,zi,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=R(this,ir,"f")){if(R(this,_n,"f"))switch(R(this,_n,"f").type){case"text":this._emit("textDone",R(this,_n,"f").text,R(this,st,"f"));break;case"image_file":this._emit("imageFileDone",R(this,_n,"f").image_file,R(this,st,"f"));break}Le(this,ir,s.index,"f")}Le(this,_n,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(R(this,ir,"f")!==void 0){const s=e.data.content[R(this,ir,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,R(this,st,"f"));break;case"text":this._emit("textDone",s.text,R(this,st,"f"));break}}R(this,st,"f")&&this._emit("messageDone",e.data),Le(this,st,void 0,"f")}},Yd=function(e){const n=R(this,pe,"m",ef).call(this,e);switch(Le(this,ds,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==R(this,vo,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(R(this,Me,"f")&&this._emit("toolCallDone",R(this,Me,"f")),Le(this,vo,i.index,"f"),Le(this,Me,n.step_details.tool_calls[i.index],"f"),R(this,Me,"f")&&this._emit("toolCallCreated",R(this,Me,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Le(this,ds,void 0,"f"),e.data.step_details.type=="tool_calls"&&R(this,Me,"f")&&(this._emit("toolCallDone",R(this,Me,"f")),Le(this,Me,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Zd=function(e){R(this,ql,"f").push(e),this._emit("event",e)},ef=function(e){switch(e.event){case"thread.run.step.created":return R(this,vt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=R(this,vt,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=ut.accumulateDelta(n,r.delta);R(this,vt,"f")[e.data.id]=s}return R(this,vt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":R(this,vt,"f")[e.data.id]=e.data;break}if(R(this,vt,"f")[e.data.id])return R(this,vt,"f")[e.data.id];throw new Error("No snapshot available")},tf=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=R(this,pe,"m",nf).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},nf=function(e,n){return ut.accumulateDelta(n,e)},rf=function(e){switch(Le(this,Wi,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Le(this,xn,e.data,"f"),R(this,Me,"f")&&(this._emit("toolCallDone",R(this,Me,"f")),Le(this,Me,void 0,"f"));break}};class oc extends F{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return fe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,ac,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ac extends Ne{}oc.MessagesPage=ac;class lc extends F{retrieve(e,n,r,s={},i){return fe(s)?this.retrieve(e,n,r,{},s):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},s){return fe(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,uc,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class uc extends Ne{}lc.RunStepsPage=uc;class Bs extends F{constructor(){super(...arguments),this.steps=new lc(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return fe(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,cc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return ut.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Fs(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return ut.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return ut.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}}class cc extends Ne{}Bs.RunsPage=cc;Bs.Steps=lc;Bs.RunStepsPage=uc;class Ar extends F{constructor(){super(...arguments),this.runs=new Bs(this._client),this.messages=new oc(this._client)}create(e={},n){return fe(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return ut.createThreadAssistantStream(e,this._client.beta.threads,n)}}Ar.Runs=Bs;Ar.RunsPage=cc;Ar.Messages=oc;Ar.MessagesPage=ac;class Or extends F{constructor(){super(...arguments),this.realtime=new ic(this._client),this.chat=new Jl(this._client),this.assistants=new ec(this._client),this.threads=new Ar(this._client)}}Or.Realtime=ic;Or.Assistants=ec;Or.AssistantsPage=tc;Or.Threads=Ar;class Nm extends F{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Lm extends F{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}let dc=class extends F{create(e,n){return this._client.post("/files",xr({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return fe(e)?this.list({},e):this._client.getAPIList("/files",fc,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!s.has(o.status);)if(await Fs(n),o=await this.retrieve(e),Date.now()-i>r)throw new Gu({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class fc extends Ne{}dc.FileObjectsPage=fc;class hc extends F{list(e,n={},r){return fe(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,pc,{query:n,...r})}}class pc extends Ne{}hc.FineTuningJobCheckpointsPage=pc;class $r extends F{constructor(){super(...arguments),this.checkpoints=new hc(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return fe(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",mc,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return fe(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,gc,{query:n,...r})}}class mc extends Ne{}class gc extends Ne{}$r.FineTuningJobsPage=mc;$r.FineTuningJobEventsPage=gc;$r.Checkpoints=hc;$r.FineTuningJobCheckpointsPage=pc;class Ws extends F{constructor(){super(...arguments),this.jobs=new $r(this._client)}}Ws.Jobs=$r;Ws.FineTuningJobsPage=mc;Ws.FineTuningJobEventsPage=gc;class Dm extends F{createVariation(e,n){return this._client.post("/images/variations",xr({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",xr({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class yc extends F{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",vc,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class vc extends Xu{}yc.ModelsPage=vc;class Mm extends F{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function V_(t,e){return!e||!q_(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:Fm(t,e)}function Fm(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:G_(e,s)};if(s.type==="message"){const i=s.content.map(o=>o.type==="output_text"?{...o,parsed:J_(e,o.text)}:o);return{...s,content:i}}return s}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Um(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function J_(t,e){var n,r,s,i;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((i=t.text)==null?void 0:i.format).$parseRaw(e):JSON.parse(e)}function q_(t){var e;return!!rc((e=t.text)==null?void 0:e.format)}function Q_(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function K_(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function G_(t,e){const n=K_(t.tools??[],e.name);return{...e,...e,parsed_arguments:Q_(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function Um(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class zm extends F{list(e,n={},r){return fe(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,Y_,{query:n,...r})}}var Fn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ft=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Un,wi,Ut,Si,sf,of,af,lf;class _c extends nc{constructor(e){super(),Un.add(this),wi.set(this,void 0),Ut.set(this,void 0),Si.set(this,void 0),Fn(this,wi,e,"f")}static createResponse(e,n,r){const s=new _c(n);return s._run(()=>s._createResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ft(this,Un,"m",sf).call(this);const i=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)Ft(this,Un,"m",of).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Ge;return Ft(this,Un,"m",af).call(this)}[(wi=new WeakMap,Ut=new WeakMap,Si=new WeakMap,Un=new WeakSet,sf=function(){this.ended||Fn(this,Ut,void 0,"f")},of=function(n){if(this.ended)return;const r=Ft(this,Un,"m",lf).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new A(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new A(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new A(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...n,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new A(`missing output at index ${n.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:this._emit(n.type,n);break}},af=function(){if(this.ended)throw new A("stream has ended, this shouldn't happen");const n=Ft(this,Ut,"f");if(!n)throw new A("request ended without sending any events");Fn(this,Ut,void 0,"f");const r=X_(n,Ft(this,wi,"f"));return Fn(this,Si,r,"f"),r},lf=function(n){let r=Ft(this,Ut,"f");if(!r){if(n.type!=="response.created")throw new A(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Fn(this,Ut,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new A(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new A(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new A(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new A(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new A(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{Fn(this,Ut,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Ft(this,Si,"f");if(!e)throw new A("stream ended without producing a ChatCompletion");return e}}function X_(t,e){return V_(t,e)}class wc extends F{constructor(){super(...arguments),this.inputItems=new zm(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Um(r),r))}retrieve(e,n={},r){return fe(n)?this.retrieve(e,{},n):this._client.get(`/responses/${e}`,{query:n,...r})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>Fm(r,e))}stream(e,n){return _c.createResponse(this._client,e,n)}}class Y_ extends Ne{}wc.InputItems=zm;class Bm extends F{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,xr({body:n,...r}))}}class Sc extends F{constructor(){super(...arguments),this.parts=new Bm(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}Sc.Parts=Bm;const Z_=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};class Ho extends F{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return fe(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Vo,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Fs(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,kc,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Vo extends Ne{}class kc extends Xu{}Ho.VectorStoreFilesPage=Vo;Ho.FileContentResponsesPage=kc;class Wm extends F{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return fe(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Vo,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Fs(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),u=[...r];async function c(h){for(let g of h){const y=await a.files.create({file:g,purpose:"assistants"},s);u.push(y.id)}}const d=Array(o).fill(l).map(c);return await Z_(d),await this.createAndPoll(e,{file_ids:u})}}class dn extends F{constructor(){super(...arguments),this.files=new Ho(this._client),this.fileBatches=new Wm(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return fe(e)?this.list({},e):this._client.getAPIList("/vector_stores",Ec,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,xc,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ec extends Ne{}class xc extends Xu{}dn.VectorStoresPage=Ec;dn.VectorStoreSearchResponsesPage=xc;dn.Files=Ho;dn.VectorStoreFilesPage=Vo;dn.FileContentResponsesPage=kc;dn.FileBatches=Wm;var Hm;class N extends w_{constructor({baseURL:e=mi("OPENAI_BASE_URL"),apiKey:n=mi("OPENAI_API_KEY"),organization:r=mi("OPENAI_ORG_ID")??null,project:s=mi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new A("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&O_())throw new A(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new Nm(this),this.chat=new Wo(this),this.embeddings=new Lm(this),this.files=new dc(this),this.images=new Dm(this),this.audio=new Us(this),this.moderations=new Mm(this),this.models=new yc(this),this.fineTuning=new Ws(this),this.vectorStores=new dn(this),this.beta=new Or(this),this.batches=new Yu(this),this.uploads=new Sc(this),this.responses=new wc(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return n_(e,{arrayFormat:"brackets"})}}Hm=N;N.OpenAI=Hm;N.DEFAULT_TIMEOUT=6e5;N.OpenAIError=A;N.APIError=ye;N.APIConnectionError=Do;N.APIConnectionTimeoutError=Gu;N.APIUserAbortError=Ge;N.NotFoundError=Qp;N.ConflictError=Kp;N.RateLimitError=Xp;N.BadRequestError=Vp;N.AuthenticationError=Jp;N.InternalServerError=Yp;N.PermissionDeniedError=qp;N.UnprocessableEntityError=Gp;N.toFile=sm;N.fileFromPath=Wp;N.Completions=Nm;N.Chat=Wo;N.ChatCompletionsPage=Bo;N.Embeddings=Lm;N.Files=dc;N.FileObjectsPage=fc;N.Images=Dm;N.Audio=Us;N.Moderations=Mm;N.Models=yc;N.ModelsPage=vc;N.FineTuning=Ws;N.VectorStores=dn;N.VectorStoresPage=Ec;N.VectorStoreSearchResponsesPage=xc;N.Beta=Or;N.Batches=Yu;N.BatchesPage=Zu;N.Uploads=Sc;N.Responses=wc;const e0=new N({apiKey:"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",dangerouslyAllowBrowser:!0});async function t0(t){try{return(await e0.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:`You are a SQL expert. Convert the following English question into a PostgreSQL query. The database has these tables:

categories(id, name, description)
products(id, name, description, price, category_id)

Respond ONLY with the SQL query, no explanation.`},{role:"user",content:t}],temperature:0})).choices[0].message.content||""}catch(e){throw(e==null?void 0:e.status)===429?new Error("OpenAI API rate limit exceeded. Please try again later or check your API quota."):e}}const n0="modulepreload",r0=function(t){return"/"+t},uf={},Cr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=r0(l),l in uf)return;uf[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":n0,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},s0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ir);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Cc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class i0 extends Cc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o0 extends Cc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a0 extends Cc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ql;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ql||(Ql={}));var l0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class u0{constructor(e,{headers:n={},customFetch:r,region:s=Ql.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=s0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return l0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new i0(y)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new o0(c);if(!c.ok)throw new a0(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield c.json():h==="application/octet-stream"?g=yield c.blob():h==="text/event-stream"?g=c:h==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ae={},Pc={},Jo={},Hs={},qo={},Qo={},c0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=c0();const d0=Pr.fetch,Vm=Pr.fetch.bind(Pr),Jm=Pr.Headers,f0=Pr.Request,h0=Pr.Response,Ir=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jm,Request:f0,Response:h0,default:Vm,fetch:d0},Symbol.toStringTag,{value:"Module"})),p0=pg(Ir);var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});let m0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ko.default=m0;var qm=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0});const g0=qm(p0),y0=qm(Ko);let v0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=g0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,d=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(c=[],u=null,h=200,g="OK")}catch{i.status===404&&v===""?(h=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new y0.default(u)}return{error:u,data:c,count:d,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Qo.default=v0;var _0=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qo,"__esModule",{value:!0});const w0=_0(Qo);let S0=class extends w0.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qo.default=S0;var k0=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});const E0=k0(qo);let x0=class extends E0.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Hs.default=x0;var C0=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jo,"__esModule",{value:!0});const Wr=C0(Hs);let P0=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Wr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Wr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Wr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Wr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jo.default=P0;var Go={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.version=void 0;Xo.version="0.0.0-automated";Object.defineProperty(Go,"__esModule",{value:!0});Go.DEFAULT_HEADERS=void 0;const b0=Xo;Go.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${b0.version}`};var Qm=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pc,"__esModule",{value:!0});const T0=Qm(Jo),R0=Qm(Hs),A0=Go;let O0=class Km{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},A0.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new T0.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Km(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new R0.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Pc.default=O0;var jr=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.PostgrestError=Ae.PostgrestBuilder=Ae.PostgrestTransformBuilder=Ae.PostgrestFilterBuilder=Ae.PostgrestQueryBuilder=Ae.PostgrestClient=void 0;const Gm=jr(Pc);Ae.PostgrestClient=Gm.default;const Xm=jr(Jo);Ae.PostgrestQueryBuilder=Xm.default;const Ym=jr(Hs);Ae.PostgrestFilterBuilder=Ym.default;const Zm=jr(qo);Ae.PostgrestTransformBuilder=Zm.default;const eg=jr(Qo);Ae.PostgrestBuilder=eg.default;const tg=jr(Ko);Ae.PostgrestError=tg.default;var $0=Ae.default={PostgrestClient:Gm.default,PostgrestQueryBuilder:Xm.default,PostgrestFilterBuilder:Ym.default,PostgrestTransformBuilder:Zm.default,PostgrestBuilder:eg.default,PostgrestError:tg.default};const{PostgrestClient:I0,PostgrestQueryBuilder:T1,PostgrestFilterBuilder:R1,PostgrestTransformBuilder:A1,PostgrestBuilder:O1,PostgrestError:$1}=$0,j0="2.11.2",N0={"X-Client-Info":`realtime-js/${j0}`},L0="1.0.0",ng=1e4,D0=1e3;var gr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gr||(gr={}));var Fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fe||(Fe={}));var ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ot||(ot={}));var Kl;(function(t){t.websocket="websocket"})(Kl||(Kl={}));var wn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wn||(wn={}));class M0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class rg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const cf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=F0(o,t,e,s),i),{})},F0=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?sg(i,o):Gl(o)},sg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return W0(e,n)}switch(t){case H.bool:return U0(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return z0(e);case H.json:case H.jsonb:return B0(e);case H.timestamp:return H0(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Gl(e);default:return Gl(e)}},Gl=t=>t,U0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},z0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},B0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>sg(e,a))}return t},H0=t=>typeof t=="string"?t.replace(" ","T"):t,ig=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ma{constructor(e,n,r={},s=ng){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var df;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(df||(df={}));class fs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=fs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(w=>w.presence_ref),g=d.map(w=>w.presence_ref),y=c.filter(w=>g.indexOf(w.presence_ref)<0),v=d.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(a[u]=y),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ff;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ff||(ff={}));var hf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hf||(hf={}));var bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class bc{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ma(this,ot.join,this.params,this.timeout),this.rejoinTimer=new rg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new fs(this),this.broadcastEndpointURL=ig(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(bt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(bt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(bt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let v=0;v<g;v++){const w=h[v],{filter:{event:m,schema:f,table:p,filter:_}}=w,S=c&&c[v];if(S&&S.event===m&&S.schema===f&&S.table===p&&S.filter===_)y.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),e==null||e(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(bt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ma(this,ot.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ma(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ot;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,v,w;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,v,w,m,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(f=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:w,commit_timestamp:m,type:f,errors:p}=y;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:m,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}g.callback(h,r)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bc.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ot.close,{},e)}_onError(e){this._on(ot.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=cf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=cf(e.columns,e.old_record)),n}}const V0=()=>{},J0=typeof WebSocket<"u",q0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q0{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=N0,this.params={},this.timeout=ng,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=V0,this.conn=null,this.sendBuffer=[],this.serializer=new M0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Cr(async()=>{const{default:l}=await Promise.resolve().then(()=>Ir);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Kl.websocket}`,this.httpEndpoint=ig(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(J0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new K0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Cr(async()=>{const{default:e}=await import("./browser-CGOhMrGA.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L0}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gr.connecting:return wn.Connecting;case gr.open:return wn.Open;case gr.closing:return wn.Closing;default:return wn.Closed}}isConnected(){return this.connectionState()===wn.Open}channel(e,n={config:{}}){const r=new bc(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(ot.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(D0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ot.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([q0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class K0{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Tc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class G0 extends Tc{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xl extends Tc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var X0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const og=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ir);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Y0=()=>X0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cr(()=>Promise.resolve().then(()=>Ir),void 0)).Response:Response}),Yl=t=>{if(Array.isArray(t))return t.map(n=>Yl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Yl(r)}),e};var jn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Fa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z0=(t,e,n)=>jn(void 0,void 0,void 0,function*(){const r=yield Y0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new G0(Fa(s),t.status||500))}).catch(s=>{e(new Xl(Fa(s),s))}):e(new Xl(Fa(t),t))}),ew=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Vs(t,e,n,r,s,i){return jn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,ew(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Z0(l,a,r))})})}function _o(t,e,n,r){return jn(this,void 0,void 0,function*(){return Vs(t,"GET",e,n,r)})}function Vt(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return Vs(t,"POST",e,r,s,n)})}function tw(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return Vs(t,"PUT",e,r,s,n)})}function nw(t,e,n,r){return jn(this,void 0,void 0,function*(){return Vs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ag(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return Vs(t,"DELETE",e,r,s,n)})}var be=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const rw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sw{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=og(s)}uploadOrUpdate(e,n,r,s){return be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:pf.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Vt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Tc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}update(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Vt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return be(this,void 0,void 0,function*(){try{const s=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(e,n){return be(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield _o(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _o(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yl(r),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield nw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ue(r)&&r instanceof Xl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}list(e,n,r){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},rw),n),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const iw="2.7.1",ow={"X-Client-Info":`storage-js/${iw}`};var zn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class aw{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},ow),n),this.fetch=og(r)}listBuckets(){return zn(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return zn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return zn(this,void 0,void 0,function*(){try{return{data:yield tw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}deleteBucket(e){return zn(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}}class lw extends aw{constructor(e,n={},r){super(e,n,r)}from(e){return new sw(this.url,this.headers,e,this.fetch)}}const uw="2.49.1";let es="";typeof Deno<"u"?es="deno":typeof document<"u"?es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?es="react-native":es="node";const cw={"X-Client-Info":`supabase-js-${es}/${uw}`},dw={headers:cw},fw={schema:"public"},hw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pw={};var mw=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const gw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Vm:e=fetch,(...n)=>e(...n)},yw=()=>typeof Headers>"u"?Jm:Headers,vw=(t,e,n)=>{const r=gw(n),s=yw();return(i,o)=>mw(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var _w=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function ww(t){return t.replace(/\/$/,"")}function Sw(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>_w(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const lg="2.68.0",Jn=30*1e3,Zl=3,Ua=Zl*Jn,kw="http://localhost:9999",Ew="supabase.auth.token",xw={"X-Client-Info":`gotrue-js/${lg}`},eu="X-Supabase-Api-Version",ug={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Cw(t){return Math.round(Date.now()/1e3)+t}function Pw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},hs=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function bw(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const cg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ir);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Tw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ki=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ei=async(t,e)=>{await t.removeItem(e)};function Rw(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Yo{constructor(){this.promise=new Yo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yo.promiseConstructor=Promise;function mf(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Rw(r))}async function Aw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ow(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function $w(t){return("0"+t.toString(16)).substr(-2)}function Iw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,$w).join("")}async function jw(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Nw(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jw(t);return Nw(n)}async function Bn(t,e,n=!1){const r=Iw();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await dg(t,`${e}-code-verifier`,s);const i=await Lw(r);return[i,r===i?"plain":"s256"]}const Dw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mw(t){const e=t.headers.get(eu);if(!e||!e.match(Dw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Rc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Fw extends Rc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Uw(t){return I(t)&&t.name==="AuthApiError"}class fg extends Rc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nn extends Rc{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class zt extends Nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zw(t){return I(t)&&t.name==="AuthSessionMissingError"}class za extends Nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xi extends Nn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ci extends Nn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bw(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class gf extends Nn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tu extends Nn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ba(t){return I(t)&&t.name==="AuthRetryableFetchError"}class yf extends Nn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Ww=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hw=[502,503,504];async function vf(t){var e;if(!Tw(t))throw new tu(vn(t),0);if(Hw.includes(t.status))throw new tu(vn(t),t.status);let n;try{n=await t.json()}catch(i){throw new fg(vn(i),i)}let r;const s=Mw(t);if(s&&s.getTime()>=ug["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yf(vn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yf(vn(n),t.status,n.weak_password.reasons);throw new Fw(vn(n),t.status||500,r)}const Vw=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[eu]||(i[eu]=ug["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Jw(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Jw(t,e,n,r,s,i){const o=Vw(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new tu(vn(l),0)}if(a.ok||await vf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await vf(l)}}function Bt(t){var e;let n=null;Gw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Cw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function _f(t){const e=Bt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qw(t){return{data:t,error:null}}function Qw(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Ww(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Kw(t){return t}function Gw(t){return t.access_token&&t.refresh_token&&t.expires_in}var Xw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Yw{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=cg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Xw(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Qw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Kw});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}const Zw={getItem:t=>hs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{hs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{hs()&&globalThis.localStorage.removeItem(t)}};function wf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function e1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wn={debug:!!(globalThis&&hs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class t1 extends hg{}async function n1(t,e,n){Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new t1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}e1();const r1={url:kw,storageKey:Ew,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sf(t,e,n){return await n()}class Is{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Is.nextInstanceID,Is.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},r1),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Yw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cg(s.fetch),this.lock=s.lock||Sf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=n1:this.lock=Sf,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:hs()?this.storage=Zw:(this.memoryStorage={},this.storage=wf(this.memoryStorage)):(this.memoryStorage={},this.storage=wf(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=bw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Bw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?{error:n}:{error:new fg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Bt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Bn(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Bt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bt})}else throw new xi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_f})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_f})}else throw new xi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new za}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await ki(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Bt});if(await Ei(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new za}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Bt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new za}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Bn(this.storage,this.storageKey));const{error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new xi("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Bt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Bn(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qw})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new zt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xi("You must provide either an email or phone number and a type")}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ua:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Qt})})}catch(n){if(I(n))return zw(n)&&(await this._removeSession(),await Ei(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new zt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Bn(this.storage,this.storageKey));const{data:u,error:c}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return mf(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=mf(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(I(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new zt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!mt())throw new Ci("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ci(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ci("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gf("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ci("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Uw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ei(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Pw(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Bn(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return mt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ow(async s=>(s>0&&await Aw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ba(i)&&Date.now()+o-r<Jn})}catch(r){if(this._debug(n,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ki(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ua;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ua}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ba(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return Ba(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await dg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ei(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jn}ms, refresh threshold is ${Zl} ticks`),s<=Zl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Is.nextInstanceID=0;const s1=Is;class i1 extends s1{constructor(e){super(e)}}var o1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class a1{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=ww(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:fw,realtime:pw,auth:Object.assign(Object.assign({},hw),{storageKey:l}),global:dw},c=Sw(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=vw(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new I0(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new u0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lw(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return o1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i1({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Q0(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l1=(t,e,n)=>new a1(t,e,n),u1="https://webfuqbogmyubotrshtf.supabase.co",c1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndlYmZ1cWJvZ215dWJvdHJzaHRmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4MDIyMjgsImV4cCI6MjA1NjM3ODIyOH0.MwTzEFsSZ4UO1-IjgQzA31PFBROCXt1Wz2hOwmaTZnc",d1=l1(u1,c1);function f1(){const[t,e]=lt.useState(""),[n,r]=lt.useState(null),[s,i]=lt.useState(!1),[o,a]=lt.useState(null),[l,u]=lt.useState([]),c=async h=>{h.preventDefault(),i(!0),a(null),r(null);try{const g=await t0(t),{data:y,error:v}=await d1.rpc("execute_query",{query_text:g});if(v)throw v;r(y),u(w=>[{question:t,response:y},...w])}catch(g){const y=g instanceof Error?g.message:"An error occurred";a(y),console.error("Error:",g)}finally{i(!1)}},d=()=>u([]);return W.jsx("div",{className:"min-h-screen bg-gray-100 py-10",children:W.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[W.jsxs("div",{className:"flex items-center justify-between mb-6",children:[W.jsxs("div",{className:"flex items-center space-x-3",children:[W.jsx(Wv,{className:"w-8 h-8 text-blue-600"}),W.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Natural Language Database Query"})]}),l.length>0&&W.jsxs("button",{onClick:d,className:"text-red-600 hover:text-red-800 flex items-center",children:[W.jsx(Jv,{className:"w-5 h-5 mr-1"})," Clear History"]})]}),W.jsx("form",{onSubmit:c,className:"mb-6",children:W.jsxs("div",{className:"relative",children:[W.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),placeholder:"Ask a question about the data...",className:"w-full px-4 py-3 pr-12 text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:s}),W.jsx("button",{type:"submit",disabled:s||!t,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-400 hover:text-gray-600",children:s?W.jsx(Hv,{className:"w-5 h-5 animate-spin"}):W.jsx(Vv,{className:"w-5 h-5"})})]})}),o&&W.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-red-800",children:o}),n&&W.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[W.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Query Result"}),W.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-x-auto text-sm",children:JSON.stringify(n,null,2)})]}),l.length>0&&W.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow",children:[W.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Query History"}),W.jsx("ul",{className:"space-y-2",children:l.map((h,g)=>W.jsxs("li",{className:"p-3 bg-white shadow rounded-lg border",children:[W.jsx("p",{className:"text-gray-800 font-medium",children:h.question}),W.jsx("pre",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-lg overflow-x-auto mt-1",children:JSON.stringify(h.response,null,2)})]},g))})]})]})})}jp(document.getElementById("root")).render(W.jsx(lt.StrictMode,{children:W.jsx(f1,{})}));export{h1 as g};
